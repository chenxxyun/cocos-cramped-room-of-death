System.register("chunks:///_virtual/AirDeathSubStateMAchine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){a=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"65b6aQX2DpMaY+seeNfTND/","AirDeathSubStateMAchine",void 0);var s="texture/player/airdeath";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new a(e,s+"/bottom")),n.stateMachine.set(c.LEFT,new a(e,s+"/left")),n.stateMachine.set(c.RIGHT,new a(e,s+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,a,n,c,r,o,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t.AnimationClip},function(t){c=t.default},function(t){r=t.default,o=t.ANIMATION_SPEED},function(t){i=t.DIRECTION_ENUM,u=t.SHAKE_TYPE_ENUM}],execute:function(){a._RF.push({},"051d2RmATBMnYmyGV4yvZnP","AttackSubStateMachine",void 0);var s="texture/player/attack";t("default",function(t){function a(e){var a;return(a=t.call(this,e)||this).stateMachine.set(i.TOP,new r(e,s+"/top",n.WrapMode.Normal,o,[{frame:4*o,func:"onAttackShake",params:[u.TOP]}])),a.stateMachine.set(i.BOTTOM,new r(e,s+"/bottom",n.WrapMode.Normal,o,[{frame:4*o,func:"onAttackShake",params:[u.BOTTOM]}])),a.stateMachine.set(i.LEFT,new r(e,s+"/left",n.WrapMode.Normal,o,[{frame:4*o,func:"onAttackShake",params:[u.LEFT]}])),a.stateMachine.set(i.RIGHT,new r(e,s+"/right",n.WrapMode.Normal,o,[{frame:4*o,func:"onAttackShake",params:[u.RIGHT]}])),a}return e(a,t),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,c,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.default},function(t){a=t.default},function(t){i=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"50636QbsCFBcqsmrOclo4MY","AttackSubStateMachine",void 0);var s="texture/woodenskeleton/attack";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new a(e,s+"/top")),n.stateMachine.set(i.BOTTOM,new a(e,s+"/bottom")),n.stateMachine.set(i.LEFT,new a(e,s+"/left")),n.stateMachine.set(i.RIGHT,new a(e,s+"/right")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./index2.ts","./DataManager.ts","./EventManager.ts","./FadeManager.ts","./index3.ts","./BurstManager.ts","./DoorManager.ts","./IronSkeletonManager.ts","./PlayerManager.ts","./SmokeManager.ts","./SpikesManager.ts","./TileManager.ts","./TileMapManager.ts","./ShakeManager.ts","./WoodenSkeletonManager.ts"],(function(e){var t,n,a,s,r,i,o,c,l,u,p,d,I,f,h,y,v,g,E,m,k,L,M,T,S,x;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator},function(e){a=e.cclegacy,s=e._decorator,r=e.Component,i=e.director,o=e.Node},function(e){c=e.EVENT_ENUM,l=e.ENTITY_STATE_ENUM,u=e.ENTITY_TYPE_ENUM},function(e){p=e.default},function(e){d=e.default},function(e){I=e.default},function(e){f=e.default},function(e){h=e.createUINode},function(e){y=e.BurstManager},function(e){v=e.DoorManager},function(e){g=e.IronSkeletonManager},function(e){E=e.PlayerManager},function(e){m=e.SmokeManager},function(e){k=e.SpikesManager},function(e){L=e.TILE_WIDTH,M=e.TILE_HEIGHT},function(e){T=e.TileMapManneger},function(e){S=e.ShakeManager},function(e){x=e.WoodenSkeletonManager}],execute:function(){var P;a._RF.push({},"cac9dHLuRVN5YmQXRWE/hS0","BattleManager",void 0);var _=s.ccclass;s.property,e("BetaleManneger",_("BetaleManneger")(P=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).level=void 0,t.stage=void 0,t.smokeLayer=void 0,t.inited=!1,t}t(a,e);var s=a.prototype;return s.onLoad=function(){d.Instance.levelIndex=1,I.Instance.on(c.NEXT_LEVEL,this.nextLevel,this),I.Instance.on(c.PLAYER_MOVE_END,this.checkArrived,this),I.Instance.on(c.SHOW_SMOKE,this.generateSmoke,this),I.Instance.on(c.RECORD_STEP,this.record,this),I.Instance.on(c.REVOKE_STEP,this.revoke,this),I.Instance.on(c.RESTART_LEVEL,this.restartLevel,this),I.Instance.on(c.QUIT_BATTLE,this.quitBattle,this)},s.onDestroy=function(){I.Instance.off(c.NEXT_LEVEL,this.nextLevel),I.Instance.off(c.PLAYER_MOVE_END,this.checkArrived),I.Instance.off(c.SHOW_SMOKE,this.generateSmoke),I.Instance.off(c.RECORD_STEP,this.record),I.Instance.off(c.REVOKE_STEP,this.revoke),I.Instance.off(c.RESTART_LEVEL,this.restartLevel),I.Instance.off(c.QUIT_BATTLE,this.quitBattle)},s.start=function(){this.generateStage(),this.initLevel()},s.initLevel=function(){var e=n((function*(){this.clearlevel();var e=p["level"+d.Instance.levelIndex];e?(this.inited?yield f.Instance.fadeIn():yield f.Instance.mask(),this.level=e,d.Instance.MapInfo=this.level.mapInfo,d.Instance.mapRowCount=this.level.mapInfo.length||0,d.Instance.mapColumnCount=this.level.mapInfo[0].length||0,yield Promise.all([this.generateTileMap(),this.generateBurst(),this.generateSpikes(),this.generateSmokeLayer(),this.generateDoor(),this.generateEnemies(),this.generatePlayer()]),yield f.Instance.fadeOut()):this.quitBattle()}));return function(){return e.apply(this,arguments)}}(),s.restartLevel=function(){var e=n((function*(){yield f.Instance.fadeIn(),this.initLevel()}));return function(){return e.apply(this,arguments)}}(),s.quitBattle=function(){var e=n((function*(){yield f.Instance.fadeIn(),i.loadScene("Start")}));return function(){return e.apply(this,arguments)}}(),s.nextLevel=function(){d.Instance.levelIndex++,this.initLevel()},s.clearlevel=function(){this.stage.destroyAllChildren(),d.Instance.reset()},s.generateStage=function(){this.stage=h(),this.stage.setParent(this.node),this.stage.addComponent(S),this.stage.getComponent(S).init()},s.generateTileMap=function(){var e=n((function*(){var e=new o;e.setParent(this.stage);var t=e.addComponent(T);yield t.init(),this.adaptPos()}));return function(){return e.apply(this,arguments)}}(),s.generateSmokeLayer=function(){var e=n((function*(){this.smokeLayer=h(),this.smokeLayer.setParent(this.stage)}));return function(){return e.apply(this,arguments)}}(),s.generateSmoke=function(){var e=n((function*(e,t,n){var a=d.Instance.smokes.find((function(e){return e.state===l.DEATH}));if(a)console.log("smoke"),a.x=e,a.y=t,a.direction=n,a.state=l.IDLE,a.node.setPosition(e*L-1.5*L,-t*M+1.5*M);else{var s=h();s.setParent(this.smokeLayer);var r=s.addComponent(m);yield r.init({x:e,y:t,direction:n,state:l.IDLE,type:u.SMOKE}),d.Instance.smokes.push(r)}}));return function(t,n,a){return e.apply(this,arguments)}}(),s.generatePlayer=function(){var e=n((function*(){var e=h();e.setParent(this.stage);var t=e.addComponent(E);yield t.init(this.level.player),d.Instance.player=t,I.Instance.emit(c.PLAYER_BORN,!0)}));return function(){return e.apply(this,arguments)}}(),s.generateBurst=function(){var e=n((function*(){for(var e=[],t=0;t<this.level.bursts.length;t++){var n=this.level.bursts[t],a=h();a.setParent(this.stage);var s=a.addComponent(y);e.push(s.init(n)),d.Instance.bursts.push(s)}yield Promise.all(e)}));return function(){return e.apply(this,arguments)}}(),s.generateEnemies=function(){var e=n((function*(){for(var e=[],t=0;t<this.level.enemies.length;t++){var n=this.level.enemies[t],a=n.type===u.SKELETON_WOODEN?x:g,s=h();s.setParent(this.stage);var r=s.addComponent(a);e.push(r.init(n)),d.Instance.enemies.push(r)}yield Promise.all(e)}));return function(){return e.apply(this,arguments)}}(),s.generateDoor=function(){var e=n((function*(){var e=h();e.setParent(this.stage);var t=e.addComponent(v);yield t.init(this.level.door),d.Instance.door=t}));return function(){return e.apply(this,arguments)}}(),s.generateSpikes=function(){var e=n((function*(){for(var e=[],t=0;t<this.level.spikes.length;t++){var n=this.level.spikes[t],a=h();a.setParent(this.stage);var s=a.addComponent(k);e.push(s.init(n)),d.Instance.spikes.push(s)}yield Promise.all(e)}));return function(){return e.apply(this,arguments)}}(),s.checkArrived=function(){if(d.Instance.player&&d.Instance.door){var e=d.Instance.player,t=e.x,n=e.y,a=d.Instance.door,s=a.x,r=a.y,i=a.state;t===s&&n===r&&i===l.DEATH&&I.Instance.emit(c.NEXT_LEVEL)}},s.adaptPos=function(){var e=d.Instance,t=e.mapColumnCount,n=e.mapRowCount,a=L*n/2,s=M*t/2+80;this.stage.getComponent(S).stop(),this.stage.setPosition(-a,s)},s.record=function(){var e={player:{x:d.Instance.player.x,y:d.Instance.player.y,direction:d.Instance.player.direction,state:d.Instance.player.state===l.IDLE||d.Instance.player.state===l.AIRDEATH||d.Instance.player.state===l.DEATH?d.Instance.player.state:l.IDLE,type:d.Instance.player.type},door:{x:d.Instance.door.x,y:d.Instance.door.y,direction:d.Instance.door.direction,state:d.Instance.door.state,type:d.Instance.door.type},enemies:d.Instance.enemies.map((function(e){return{x:e.x,y:e.y,state:e.state,direction:e.direction,type:e.type}})),spikes:d.Instance.spikes.map((function(e){return{x:e.x,y:e.y,count:e.count,type:e.type}})),bursts:d.Instance.bursts.map((function(e){return{x:e.x,y:e.y,state:e.state,direction:e.direction,type:e.type}}))};d.Instance.records.push(e)},s.revoke=function(){var e=d.Instance.records.pop();if(e){d.Instance.player.x=d.Instance.player.targetX=e.player.x,d.Instance.player.y=d.Instance.player.targetY=e.player.y,d.Instance.player.state=e.player.state,d.Instance.player.direction=e.player.direction,d.Instance.door.x=e.door.x,d.Instance.door.y=e.door.y,d.Instance.door.state=e.door.state,d.Instance.door.direction=e.door.direction;for(var t=0;t<d.Instance.enemies.length;t++){var n=e.enemies[t];d.Instance.enemies[t].state=n.state,d.Instance.enemies[t].direction=n.direction,d.Instance.enemies[t].x=n.x,d.Instance.enemies[t].y=n.y}for(var a=0;a<d.Instance.bursts.length;a++){var s=e.bursts[a];d.Instance.bursts[a].state=s.state,d.Instance.bursts[a].x=s.x,d.Instance.bursts[a].y=s.y}for(var r=0;r<d.Instance.spikes.length;r++){var i=e.spikes[r];d.Instance.spikes[r].type=i.type,d.Instance.spikes[r].count=i.count,d.Instance.spikes[r].x=i.x,d.Instance.spikes[r].y=i.y}}},a}(r))||P);a._RF.pop()}}}));

System.register("chunks:///_virtual/BlockBacktSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,c,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.default},function(t){a=t.default},function(t){i=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"a68d5nXmG9CDZMj4jHy2shH","BlockBacktSubStateMachine",void 0);var s="texture/player/blockback";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new a(e,s+"/top")),n.stateMachine.set(i.BOTTOM,new a(e,s+"/bottom")),n.stateMachine.set(i.LEFT,new a(e,s+"/left")),n.stateMachine.set(i.RIGHT,new a(e,s+"/right")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockFrontSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,c,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.default},function(t){i=t.default},function(t){a=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"c32d9R8KG5Jy5lS3AFmAejL","BlockFrontSubStateMachine",void 0);var o="texture/player/blockfront";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new i(e,o+"/top")),n.stateMachine.set(a.BOTTOM,new i(e,o+"/bottom")),n.stateMachine.set(a.LEFT,new i(e,o+"/left")),n.stateMachine.set(a.RIGHT,new i(e,o+"/right")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockLefttSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,c,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.default},function(t){i=t.default},function(t){a=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"8f31eq4CNZP2rRujXfOYVmn","BlockLefttSubStateMachine",void 0);var u="texture/player/blockleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new i(e,u+"/top")),n.stateMachine.set(a.BOTTOM,new i(e,u+"/bottom")),n.stateMachine.set(a.LEFT,new i(e,u+"/left")),n.stateMachine.set(a.RIGHT,new i(e,u+"/right")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockRighttSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,c,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){c=t.default},function(t){a=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"5616cuhemZHmLBBYK7ptJXr","BlockRighttSubStateMachine",void 0);var u="texture/player/blockright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,u+"/top")),n.stateMachine.set(a.BOTTOM,new c(e,u+"/bottom")),n.stateMachine.set(a.LEFT,new c(e,u+"/left")),n.stateMachine.set(a.RIGHT,new c(e,u+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockTurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,c,u,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.default},function(t){u=t.default},function(t){i=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"0f5b62YyyZImbcJu0sn/IWB","BlockTurnLeftSubStateMachine",void 0);var a="texture/player/blockturnleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new u(e,a+"/top")),n.stateMachine.set(i.BOTTOM,new u(e,a+"/bottom")),n.stateMachine.set(i.LEFT,new u(e,a+"/left")),n.stateMachine.set(i.RIGHT,new u(e,a+"/right")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockTurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){c=t.default},function(t){u=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"64b4cnZOI9ProbAdvluPgDl","BlockTurnRightSubStateMachine",void 0);var a="texture/player/blockturnright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(u.TOP,new c(e,a+"/top")),n.stateMachine.set(u.BOTTOM,new c(e,a+"/bottom")),n.stateMachine.set(u.LEFT,new c(e,a+"/left")),n.stateMachine.set(u.RIGHT,new c(e,a+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BurstManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts","./index.ts","./DataManager.ts","./EventManager.ts","./TileManager.ts","./BurstStateMachine.ts"],(function(t){var n,e,s,i,a,r,o,c,u,h,E,f,T,l;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){s=t.cclegacy,i=t._decorator,a=t.UITransform},function(t){r=t.EnemyManager},function(t){o=t.EVENT_ENUM,c=t.ENTITY_STATE_ENUM,u=t.SHAKE_TYPE_ENUM},function(t){h=t.default},function(t){E=t.default},function(t){f=t.TILE_WIDTH,T=t.TILE_HEIGHT},function(t){l=t.BurstStateMachine}],execute:function(){var p;s._RF.push({},"19f58ZCK+BO/K89AjNUotCp","BurstManager",void 0);var y=i.ccclass;i.property,t("BurstManager",y("BurstManager")(p=function(t){function s(){for(var n,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(n=t.call.apply(t,[this].concat(s))||this).targetX=0,n.targetY=0,n}n(s,t);var i=s.prototype;return i.init=function(){var n=e((function*(n){this.fsm=this.addComponent(l),yield this.fsm.init(),t.prototype.init.call(this,n),this.getComponent(a).setContentSize(f,T),E.Instance.on(o.PLAYER_MOVE_END,this.onBurst,this)}));return function(t){return n.apply(this,arguments)}}(),i.update=function(){this.node.setPosition(this.x*f,-this.y*T)},i.onDestroy=function(){t.prototype.onDestroy.call(this),E.Instance.off(o.PLAYER_MOVE_END,this.onBurst)},i.onBurst=function(){if(this.state!==c.DEATH&&h.Instance.player){var t=h.Instance.player,n=t.x,e=t.y;this.x===n&&this.y===e&&this.state===c.IDLE?this.state=c.ATTACK:this.state===c.ATTACK&&(this.state=c.DEATH,E.Instance.emit(o.SCREEN_SHAKE,u.BOTTOM),this.x===n&&this.y===e&&E.Instance.emit(o.ATTACK_PLAYER,c.AIRDEATH,this))}},s}(r))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/BurstStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./State.ts","./StateMachine.ts","./index.ts"],(function(t){var e,i,a,n,s,r,h,c,u,o;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){a=t.cclegacy,n=t._decorator,s=t.Animation},function(t){r=t.default},function(t){h=t.getInitParamsTrigger,c=t.getInitParamsNumber,u=t.StateMachine},function(t){o=t.PARAMS_NAME_ENUM}],execute:function(){var p;a._RF.push({},"fa341YnRMdHXZpyZHI2ibL8","BurstStateMachine",void 0);var M="texture/burst",A=n.ccclass;n.property,t("BurstStateMachine",A("BurstStateMachine")(p=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var n=a.prototype;return n.init=function(){var t=i((function*(){this.animationComponent=this.addComponent(s),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),n.initParams=function(){this.params.set(o.IDLE,h()),this.params.set(o.ATTACK,h()),this.params.set(o.DEATH,h()),this.params.set(o.DIRECTION,c())},n.initStateMachine=function(){this.stateMachine.set(o.IDLE,new r(this,M+"/idle")),this.stateMachine.set(o.ATTACK,new r(this,M+"/attack")),this.stateMachine.set(o.DEATH,new r(this,M+"/death"))},n.initAnimationEvent=function(){},n.run=function(){switch(this.currentState){case this.stateMachine.get(o.IDLE):case this.stateMachine.get(o.ATTACK):case this.stateMachine.get(o.DEATH):this.params.get(o.DEATH).value?this.currentState=this.stateMachine.get(o.DEATH):this.params.get(o.ATTACK).value?this.currentState=this.stateMachine.get(o.ATTACK):this.params.get(o.IDLE).value?this.currentState=this.stateMachine.get(o.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(o.IDLE)}},a}(u))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasreizeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,a,s,l,h,g,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.view,h=e.sys,g=e.ResolutionPolicy,u=e.Widget,p=e.Component}],execute:function(){var c,d,f,v,z;r._RF.push({},"07327EGPeVFa4a1dhuTpiKb","CanvasreizeManager",void 0);var b=a.ccclass,m=a.property;e("CanvasreizeManager",(c=b("CanvasreizeManager"),d=m(s),c((z=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"pcBg",z,o(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){var e=l.getDesignResolutionSize();h.isMobile?l.setDesignResolutionSize(e.width,e.height,g.FIXED_WIDTH):l.setDesignResolutionSize(e.width,e.height,g.FIXED_HEIGHT),this.updateSizeFit();var t=this;l.setResizeCallback((function(){t.updateSizeFit()}))},r.updateSizeFit=function(){var e=l.getVisibleSize(),t=l.getDesignResolutionSize(),i=this.node.getComponent(u);h.isMobile?(i.right=0,i.left=0,i.top=0,i.bottom=0,i.updateAlignment()):(i.right=e.width/2-e.height*t.width/t.height/2,i.left=e.width/2-e.height*t.width/t.height/2,i.top=0,i.bottom=0,i.updateAlignment());var n=this.pcBg.getComponent(u);n.right=-e.width/2,n.left=-e.width/2,n.top=0,n.bottom=0,n.target=this.node,n.updateAlignment()},t}(p)).prototype,"pcBg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EventManager.ts"],(function(e){var n,t,o,r,a,c,s,i,E,_;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.input,a=e.Input,c=e.KeyCode,s=e.Component},function(e){i=e.EVENT_ENUM,E=e.CONTROLLER_ENUM},function(e){_=e.default}],execute:function(){var u;t._RF.push({},"b5972iy4TZKXq2NbQgeVzlF","ControllerManager",void 0);var l=o.ccclass;o.property,e("ControllerManager",l("ControllerManager")(u=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.HandleCtrl=function(e,n){_.Instance.emit(i.PLAYER_CTRL,n)},o.onLoad=function(){r.on(a.EventType.KEY_DOWN,this.onKeyDown,this)},o.onDestroy=function(){r.off(a.EventType.KEY_DOWN,this.onKeyDown,this)},o.onKeyDown=function(e){switch(e.keyCode){case c.KEY_A:_.Instance.emit(i.PLAYER_ON_KEYDOWN,E.LEFT);break;case c.KEY_S:_.Instance.emit(i.PLAYER_ON_KEYDOWN,E.BOTTOM);break;case c.KEY_D:_.Instance.emit(i.PLAYER_ON_KEYDOWN,E.RIGHT);break;case c.KEY_W:_.Instance.emit(i.PLAYER_ON_KEYDOWN,E.TOP);break;case c.KEY_Q:_.Instance.emit(i.PLAYER_ON_KEYDOWN,E.TURNLEFT);break;case c.KEY_E:_.Instance.emit(i.PLAYER_ON_KEYDOWN,E.TURNRIGHT)}},t}(s))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var e,n,o,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){s=t.default}],execute:function(){o._RF.push({},"6dc89rxOaBOFpcmTu1YxdMs","DataManager",void 0);t("default",function(t){function o(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).MapInfo=[],e.tileInfo=[],e.mapRowCount=0,e.mapColumnCount=0,e.levelIndex=1,e.player=void 0,e.door=void 0,e.enemies=void 0,e.bursts=void 0,e.spikes=void 0,e.smokes=void 0,e.records=void 0,e}return e(o,t),o.prototype.reset=function(){this.MapInfo=[],this.tileInfo=[],this.mapRowCount=0,this.mapColumnCount=0,this.player=null,this.door=null,this.enemies=[],this.bursts=[],this.spikes=[],this.smokes=[],this.records=[]},n(o,null,[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){a=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"12d4bi+MZ9Eh7QxDPWu8Ccg","DeathSubStateMachine",void 0);var u="texture/ironskeleton/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,u+"/top")),n.stateMachine.set(c.BOTTOM,new a(e,u+"/bottom")),n.stateMachine.set(c.LEFT,new a(e,u+"/left")),n.stateMachine.set(c.RIGHT,new a(e,u+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.default},function(t){i=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"61fb5G6+OVDY4BT25APa8Tq","DeathSubStateMachine",void 0);var u="texture/door/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new i(e,""+u)),n.stateMachine.set(c.BOTTOM,new i(e,""+u)),n.stateMachine.set(c.LEFT,new i(e,""+u)),n.stateMachine.set(c.RIGHT,new i(e,""+u)),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,a,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.default},function(t){c=t.default},function(t){i=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"c39bd01IcpD743jyzQLbKxj","DeathSubStateMachine",void 0);var u="texture/door/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new c(e,""+u)),n.stateMachine.set(i.BOTTOM,new c(e,""+u)),n.stateMachine.set(i.LEFT,new c(e,""+u)),n.stateMachine.set(i.RIGHT,new c(e,""+u)),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.default},function(t){i=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"e44beCmk/VBqajlrRpHvgIP","DeathSubStateMachine",void 0);var s="texture/woodenskeleton/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new i(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new i(e,s+"/bottom")),n.stateMachine.set(c.LEFT,new i(e,s+"/left")),n.stateMachine.set(c.RIGHT,new i(e,s+"/right")),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMAchine5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.default},function(t){i=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"3868c19HBhOjJGCwaRSLwgv","DeathSubStateMAchine",void 0);var u="texture/player/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new i(e,u+"/top")),n.stateMachine.set(c.BOTTOM,new i(e,u+"/bottom")),n.stateMachine.set(c.LEFT,new i(e,u+"/left")),n.stateMachine.set(c.RIGHT,new i(e,u+"/right")),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DirectionSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./SubStateMachine.ts"],(function(t){var e,n,i,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.PARAMS_NAME_ENUM,c=t.DIRECTION_ORDER_ENUM},function(t){u=t.SubStateMachine}],execute:function(){n._RF.push({},"9b6caM7ePVFDpbrWMrROyvm","DirectionSubStateMachine",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.run=function(){var t=this.fsm.getParams(i.DIRECTION);this.currentState=this.stateMachine.get(c[t])},n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/DoorManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index.ts","./DataManager.ts","./EventManager.ts","./DoorStateMachine.ts"],(function(t){var n,e,o,r,a,i,s,c,u,f;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){o=t.cclegacy,r=t._decorator},function(t){a=t.EntityManager},function(t){i=t.EVENT_ENUM,s=t.ENTITY_STATE_ENUM},function(t){c=t.default},function(t){u=t.default},function(t){f=t.DoorStateMachine}],execute:function(){var p;o._RF.push({},"75abf+Hi2FMAoyg2dj4c7Hg","DoorManager",void 0);var l=r.ccclass;r.property,t("DoorManager",l("DoorManager")(p=function(t){function o(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).targetX=0,n.targetY=0,n}n(o,t);var r=o.prototype;return r.init=function(){var n=e((function*(n){this.fsm=this.addComponent(f),yield this.fsm.init(),t.prototype.init.call(this,n),u.Instance.on(i.DOOR_OPEN,this.onOpen,this)}));return function(t){return n.apply(this,arguments)}}(),r.onDestroy=function(){t.prototype.onDestroy.call(this),u.Instance.off(i.DOOR_OPEN,this.onOpen)},r.onOpen=function(){c.Instance.enemies.every((function(t){return t.state===s.DEATH}))&&this.state!==s.DEATH&&(this.state=s.DEATH)},o}(a))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/DoorStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./index.ts","./DeathSubStateMachine2.ts","./IdleSubStateMachine2.ts"],(function(t){var e,i,n,a,s,r,c,h,o,u,p;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){r=t.getInitParamsTrigger,c=t.getInitParamsNumber,h=t.StateMachine},function(t){o=t.PARAMS_NAME_ENUM},function(t){u=t.default},function(t){p=t.default}],execute:function(){var M;n._RF.push({},"3ac65TVr89HOKe0PxJSiCpj","DoorStateMachine",void 0);var S=a.ccclass;a.property,t("DoorStateMachine",S("DoorStateMachine")(M=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.init=function(){var t=i((function*(){this.animationComponent=this.addComponent(s),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(o.IDLE,r()),this.params.set(o.DEATH,r()),this.params.set(o.DIRECTION,c())},a.initStateMachine=function(){this.stateMachine.set(o.IDLE,new p(this)),this.stateMachine.set(o.DEATH,new u(this))},a.initAnimationEvent=function(){},a.run=function(){switch(this.currentState){case this.stateMachine.get(o.IDLE):case this.stateMachine.get(o.DEATH):this.params.get(o.DEATH).value?this.currentState=this.stateMachine.get(o.DEATH):this.params.get(o.IDLE).value?this.currentState=this.stateMachine.get(o.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(o.IDLE)}},n}(h))||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/DrawManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,s,n,o,a,r,h,c,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.view,o=t.BlockInputEvents,a=t.Graphics,r=t.UITransform,h=t.Color,c=t.game,l=t.Component}],execute:function(){var u;i._RF.push({},"69958tdovFNhLEJ8t1X5xoi","DrawManager",void 0);var d=s.ccclass,p=(s.property,n.getVisibleSize().width),f=n.getVisibleSize().height,v=function(t){return t.IDLE="IDLE",t.FADE_IN="FADE_IN",t.FADE_OUT="FADE_OUT",t}(v||{}),A=t("FADE_DEFAULT_DURATION",200);t("DrawManager",d("DrawManager")(u=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).ctx=void 0,e.state=v.IDLE,e.oldTime=0,e.duration=0,e.fadeResolve=void 0,e.block=void 0,e}e(i,t);var s=i.prototype;return s.init=function(){this.block=this.node.addComponent(o),this.ctx=this.addComponent(a);var t=this.node.addComponent(r);t.setAnchorPoint(.5,.5),t.setContentSize(p,f),this.setAlpha(1)},s.setAlpha=function(t){this.ctx.clear(),this.ctx.rect(0,0,p,f),this.ctx.fillColor=new h(0,0,0,255*t),this.ctx.fill(),this.block.enabled=1===t},s.update=function(t){var e=(c.totalTime-this.oldTime)/this.duration;switch(this.state){case v.IDLE:break;case v.FADE_IN:e<1?this.setAlpha(e):(this.setAlpha(1),this.state=v.IDLE,this.fadeResolve(null));break;case v.FADE_OUT:e<1?this.setAlpha(1-e):(this.setAlpha(0),this.state=v.IDLE)}},s.fadeIn=function(t){var e=this;return void 0===t&&(t=A),this.setAlpha(0),this.duration=t,this.oldTime=c.totalTime,this.state=v.FADE_IN,new Promise((function(t){e.fadeResolve=t}))},s.fadeOut=function(t){var e=this;return void 0===t&&(t=A),this.setAlpha(1),this.duration=t,this.oldTime=c.totalTime,this.state=v.FADE_OUT,new Promise((function(t){e.fadeResolve=t}))},s.mask=function(){return this.setAlpha(1),new Promise((function(t){setTimeout(t,A)}))},i}(l))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./DataManager.ts","./EventManager.ts","./EntityManager.ts"],(function(t){var n,i,e,a,o,s,r,c,h,E;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.EVENT_ENUM,s=t.ENTITY_STATE_ENUM,r=t.DIRECTION_ENUM},function(t){c=t.default},function(t){h=t.default},function(t){E=t.EntityManager}],execute:function(){var u;e._RF.push({},"3bee7a+3kNNF7RMCqMLX+e7","EnemyManager",void 0);var f=a.ccclass;a.property,t("EnemyManager",f("EnemyManager")(u=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).targetX=0,n.targetY=0,n}n(e,t);var a=e.prototype;return a.init=function(){var n=i((function*(n){t.prototype.init.call(this,n),h.Instance.on(o.PLAYER_BORN,this.onChangeDirection,this),h.Instance.on(o.PLAYER_MOVE_END,this.onChangeDirection,this),h.Instance.on(o.ATTACK_ENEMY,this.onDead,this),this.onChangeDirection(!0)}));return function(t){return n.apply(this,arguments)}}(),a.onDestroy=function(){t.prototype.onDestroy.call(this),h.Instance.off(o.PLAYER_BORN,this.onChangeDirection),h.Instance.off(o.PLAYER_MOVE_END,this.onChangeDirection),h.Instance.off(o.ATTACK_ENEMY,this.onDead)},a.onChangeDirection=function(t){if(void 0===t&&(t=!1),this.state!==s.DEATH&&c.Instance.player){var n=c.Instance.player,i=n.x,e=n.y,a=Math.abs(this.x-i),o=Math.abs(this.y-e);a===o&&t||(i>=this.x&&e<=this.y?this.direction=a>=o?r.RIGHT:r.TOP:i<=this.x&&e<=this.y?this.direction=a>=o?r.LEFT:r.TOP:i<=this.x&&e>=this.y?this.direction=a>=o?r.LEFT:r.BOTTOM:i>=this.x&&e>=this.y&&(this.direction=a>=o?r.RIGHT:r.BOTTOM))}},a.onDead=function(t){this.state!==s.DEATH&&this.id===t&&(this.state=s.DEATH)},e}(E))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/EntityManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./TileManager.ts","./index3.ts"],(function(t){var n,e,i,s,o,r,a,c,u,d,h,y;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,s=t._decorator,o=t.Sprite,r=t.UITransform,a=t.Component},function(t){c=t.PARAMS_NAME_ENUM,u=t.DIRECTION_ORDER_ENUM},function(t){d=t.TILE_WIDTH,h=t.TILE_HEIGHT},function(t){y=t.randomByLen}],execute:function(){var f;i._RF.push({},"2bc667ULkJIJqenIltEtyAb","EntityManager",void 0);var p=s.ccclass;s.property,t("EntityManager",p("EntityManager")(f=function(t){function i(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).id=y(12),n.x=0,n.y=0,n.fsm=void 0,n._direction=void 0,n._state=void 0,n.type=void 0,n}n(i,t);var s=i.prototype;return s.init=function(t){this.addComponent(o).sizeMode=o.SizeMode.CUSTOM,this.getComponent(r).setContentSize(4*d,4*h),this.x=t.x,this.y=t.y,this.type=t.type,this.direction=t.direction,this.state=t.state},s.update=function(){this.node.setPosition(this.x*d-1.5*d,-this.y*h+1.5*h)},s.onDestroy=function(){},e(i,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t,this.fsm.setParams(c.DIRECTION,u[this._direction])}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.fsm.setParams(t,!0)}}]),i}(a))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var n,e,c,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){c=t.cclegacy},function(t){i=t.default}],execute:function(){c._RF.push({},"30792Btd1VH9ar0JNWat72p","EventManager",void 0);t("default",function(t){function c(){for(var n,e=arguments.length,c=new Array(e),i=0;i<e;i++)c[i]=arguments[i];return(n=t.call.apply(t,[this].concat(c))||this).eventDic=new Map,n}n(c,t);var i=c.prototype;return i.on=function(t,n,e){this.eventDic.has(t)?this.eventDic.get(t).push({func:n,ctx:e}):this.eventDic.set(t,[{func:n,ctx:e}])},i.off=function(t,n){if(this.eventDic.has(t)){var e=this.eventDic.get(t).findIndex((function(t){return t.func===n}));e>-1&&this.eventDic.get(t).splice(e,1)}},i.emit=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),c=1;c<n;c++)e[c-1]=arguments[c];this.eventDic.has(t)&&this.eventDic.get(t).forEach((function(t){var n=t.func,c=t.ctx;c?n.apply(c,e):n.apply(void 0,e)}))},i.clear=function(){this.eventDic.clear()},e(c,null,[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),c}(i));c._RF.pop()}}}));

System.register("chunks:///_virtual/FadeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./DrawManager.ts","./index3.ts"],(function(e){var t,n,r,a,i,o,u,s,d;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e.RenderRoot2D,i=e.director},function(e){o=e.default},function(e){u=e.FADE_DEFAULT_DURATION,s=e.DrawManager},function(e){d=e.createUINode}],execute:function(){r._RF.push({},"27449OyjlJDE6JyeK+rVfXO","FadeManager",void 0);e("default",function(e){function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._fader=null,t}t(r,e);var o=r.prototype;return o.fadeIn=function(e){return void 0===e&&(e=u),this.fader.fadeIn(e)},o.fadeOut=function(e){return void 0===e&&(e=u),this.fader.fadeOut(e)},o.mask=function(){return this.fader.mask()},n(r,[{key:"fader",get:function(){if(null!==this._fader)return this._fader;var e=d();e.addComponent(a);var t=d();return t.setParent(e),this._fader=t.addComponent(s),this._fader.init(),i.addPersistRootNode(e),this._fader}}],[{key:"Instance",get:function(){return e.GetInstance.call(this)}}]),r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){a=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"40a12Y6hg9B1Ic77rtFBLhC","IdleSubStateMachine",void 0);var s="texture/ironskeleton/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new a(e,s+"/bottom")),n.stateMachine.set(c.LEFT,new a(e,s+"/left")),n.stateMachine.set(c.RIGHT,new a(e,s+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){a=t.default},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"6051fA7YKhNx7IbsyPqF8kK","IdleSubStateMachine",void 0);var s="texture/door/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new a(e,s+"/top")),n.stateMachine.set(c.LEFT,new a(e,s+"/left")),n.stateMachine.set(c.RIGHT,new a(e,s+"/left")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,a,i,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t.AnimationClip},function(t){i=t.default},function(t){o=t.default,r=t.ANIMATION_SPEED},function(t){c=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"6ac85tuaQpE4amI1tBIMzjA","IdleSubStateMachine",void 0);var u="texture/smoke/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new o(e,u+"/top",a.WrapMode.Normal,r/1.5)),n.stateMachine.set(c.BOTTOM,new o(e,u+"/bottom",a.WrapMode.Normal,r/1.5)),n.stateMachine.set(c.LEFT,new o(e,u+"/left",a.WrapMode.Normal,r/1.5)),n.stateMachine.set(c.RIGHT,new o(e,u+"/right",a.WrapMode.Normal,r/1.5)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(e){var t,n,i,o,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.AnimationClip},function(e){o=e.default},function(e){a=e.default},function(e){c=e.DIRECTION_ENUM}],execute:function(){n._RF.push({},"7162ciBWHRE87OReBYDMO4K","IdleSubStateMachine",void 0);var u="texture/player/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(c.TOP,new a(t,u+"/top",i.WrapMode.Loop)),n.stateMachine.set(c.BOTTOM,new a(t,u+"/bottom",i.WrapMode.Loop)),n.stateMachine.set(c.LEFT,new a(t,u+"/left",i.WrapMode.Loop)),n.stateMachine.set(c.RIGHT,new a(t,u+"/right",i.WrapMode.Loop)),n}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(e){var t,n,o,i,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.default},function(e){a=e.default},function(e){c=e.DIRECTION_ENUM}],execute:function(){n._RF.push({},"8cf783nBOxIubkbAyq7Bv6c","IdleSubStateMachine",void 0);var u="texture/woodenskeleton/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(c.TOP,new a(t,u+"/top",o.WrapMode.Loop)),n.stateMachine.set(c.BOTTOM,new a(t,u+"/bottom",o.WrapMode.Loop)),n.stateMachine.set(c.LEFT,new a(t,u+"/left",o.WrapMode.Loop)),n.stateMachine.set(c.RIGHT,new a(t,u+"/right",o.WrapMode.Loop)),n}return t(n,e),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc"],(function(T){var E;return{setters:[function(T){E=T.cclegacy}],execute:function(){E._RF.push({},"05996jAPu1Izq6yxmwWx3Br","index",void 0);T("TILE_TYPE_ENUM",function(T){return T.WALL_ROW="WALL_ROW",T.WALL_COLUMN="WALL_COLUMN",T.WALL_LEFT_TOP="WALL_LEFT_TOP",T.WALL_RIGHT_TOP="WALL_RIGHT_TOP",T.WALL_LEFT_BOTTOM="WALL_LEFT_BOTTOM",T.WALL_RIGHT_BOTTOM="WALL_RIGHT_BOTTOM",T.CLIFF_LEFT="CLIFF_ROW_START",T.CLIFF_CENTER="CLIFF_ROW_CENTER",T.CLIFF_RIGHT="CLIFF_ROW_END",T.FLOOR="FLOOR",T}({})),T("ENTITY_TYPE_ENUM",function(T){return T.PLAYER="PLAYER",T.SKELETON_WOODEN="SKELETON_WOODEN",T.SKELETON_IRON="SKELETON_IRON",T.SPIKES_ONE="SPIKES_ONE",T.SPIKES_TWO="SPIKES_TWO",T.SPIKES_THREE="SPIKES_THREE",T.SPIKES_FOUR="SPIKES_FOUR",T.BURST="BURST",T.DOOR="DOOR",T.SMOKE="SMOKE",T}({})),T("DIRECTION_ENUM",function(T){return T.LEFT="LEFT",T.RIGHT="RIGHT",T.TOP="TOP",T.BOTTOM="BOTTOM",T}({})),T("CONTROLLER_ENUM",function(T){return T.LEFT="LEFT",T.RIGHT="RIGHT",T.TOP="TOP",T.BOTTOM="BOTTOM",T.TURNLEFT="TURNLEFT",T.TURNRIGHT="TURNRIGHT",T}({})),T("ENTITY_STATE_ENUM",function(T){return T.IDLE="IDLE",T.ATTACK="ATTACK",T.TURNLEFT="TURNLEFT",T.TURNRIGHT="TURNRIGHT",T.BLOCKFRONT="BLOCKFRONT",T.BLOCKBACK="BLOCKBACK",T.BLOCKLEFT="BLOCKLEFT",T.BLOCKRIGHT="BLOCKRIGHT",T.BLOCKTURNLEFT="BLOCKTURNLEFT",T.BLOCKTURNRIGHT="BLOCKTURNRIGHT",T.DEATH="DEATH",T.AIRDEATH="AIRDEATH",T}({})),T("EVENT_ENUM",function(T){return T.PLAYER_CTRL="PLAYER_CTRL",T.PLAYER_MOVE_END="PLAYER_MOVE_END",T.ATTACK_ENEMY="ATTACK_ENEMY",T.ATTACK_PLAYER="ATTACK_PLAYER",T.RECORD_STEP="RECORD_STEP",T.REVOKE_STEP="REVOKE_STEP",T.SCREEN_SHAKE="SCREEN_SHAKE",T.NEXT_LEVEL="NEXT_LEVEL",T.RESTART_LEVEL="RESTART_LEVEL",T.OPENDOOR="OPENDOOR",T.GAME_START="GAME_START",T.GAME_OVER="GAME_OVER",T.DOOR_OPEN="DOOR_OPEN",T.SHOW_SMOKE="SHOW_SMOKE",T.PLAYER_BORN="PLAYER_BORN",T.QUIT_BATTLE="QUIT_BATTLE",T.PLAYER_ON_KEYDOWN="PLAYER_ON_KEYDOWN",T}({})),T("FSM_PARAM_TYPE_ENUM",function(T){return T.NUMBER="NUMBER",T.TRIGGER="TRIGGER",T}({})),T("DIRECTION_ORDER_ENUM",function(T){return T[T.TOP=0]="TOP",T[T.BOTTOM=1]="BOTTOM",T[T.LEFT=2]="LEFT",T[T.RIGHT=3]="RIGHT",T}({})),T("SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM",function(T){return T[T.SPIKES_ONE=2]="SPIKES_ONE",T[T.SPIKES_TWO=3]="SPIKES_TWO",T[T.SPIKES_THREE=4]="SPIKES_THREE",T[T.SPIKES_FOUR=5]="SPIKES_FOUR",T}({})),T("SPIKES_COUNT_ENUM",function(T){return T.ZERO="ZERO",T.ONE="ONE",T.TWO="TWO",T.THREE="THREE",T.FOUR="FOUR",T.FIVE="FIVE",T}({})),T("SPIKES_COUNT_MAP_NUMBER_ENUM",function(T){return T[T.ZERO=0]="ZERO",T[T.ONE=1]="ONE",T[T.TWO=2]="TWO",T[T.THREE=3]="THREE",T[T.FOUR=4]="FOUR",T[T.FIVE=5]="FIVE",T}({})),T("PARAMS_NAME_ENUM",function(T){return T.IDLE="IDLE",T.ATTACK="ATTACK",T.TURNLEFT="TURNLEFT",T.TURNRIGHT="TURNRIGHT",T.BLOCKFRONT="BLOCKFRONT",T.BLOCKBACK="BLOCKBACK",T.BLOCKLEFT="BLOCKLEFT",T.BLOCKRIGHT="BLOCKRIGHT",T.BLOCKTURNLEFT="BLOCKTURNLEFT",T.BLOCKTURNRIGHT="BLOCKTURNRIGHT",T.DEATH="DEATH",T.AIRDEATH="AIRDEATH",T.DIRECTION="DIRECTION",T.SPIKES_TOTAL_COUNT="SPIKES_TOTAL_COUNT",T.SPIKES_CUR_COUNT="SPIKES_CUR_COUNT",T}({})),T("SHAKE_TYPE_ENUM",function(T){return T.TOP="TOP",T.BOTTOM="BOTTOM",T.LEFT="LEFT",T.RIGHT="RIGHT",T}({})),T("SCENE_ENUM",function(T){return T.Loading="Loading",T.Start="Start",T.Battle="Battle",T}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./level1.ts","./level10.ts","./level11.ts","./level12.ts","./level13.ts","./level14.ts","./level15.ts","./level16.ts","./level17.ts","./level18.ts","./level19.ts","./level2.ts","./level20.ts","./level21.ts","./level3.ts","./level4.ts","./level5.ts","./level6.ts","./level7.ts","./level8.ts","./level9.ts"],(function(e){var l,t,n,u,f,v,c,i,s,o,a,d,r,R,p,x,_,g,h,y,E,F;return{setters:[function(e){l=e.cclegacy},function(e){t=e.default},function(e){n=e.default},function(e){u=e.default},function(e){f=e.default},function(e){v=e.default},function(e){c=e.default},function(e){i=e.default},function(e){s=e.default},function(e){o=e.default},function(e){a=e.default},function(e){d=e.default},function(e){r=e.default},function(e){R=e.default},function(e){p=e.default},function(e){x=e.default},function(e){_=e.default},function(e){g=e.default},function(e){h=e.default},function(e){y=e.default},function(e){E=e.default},function(e){F=e.default}],execute:function(){l._RF.push({},"610a3R6brdMrItzAEERo4G5","index",void 0);e("default",{level1:t,level2:r,level3:x,level4:_,level5:g,level6:h,level7:y,level8:E,level9:F,level10:n,level11:u,level12:f,level13:v,level14:c,level15:i,level16:s,level17:o,level18:a,level19:d,level20:R,level21:p});l._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc"],(function(n){var r,e,t,o;return{setters:[function(n){r=n.cclegacy,e=n.Node,t=n.UITransform,o=n.Layers}],execute:function(){r._RF.push({},"edfb2EonupOEKcro0nITIE/","index",void 0);n("createUINode",(function(n){void 0===n&&(n="");var r=new e(n);return r.addComponent(t).setAnchorPoint(0,1),r.layer=o.Enum.UI_2D,r})),n("randomByLen",(function(n){return Array.from({length:n}).reduce((function(n,r){return n+Math.floor(10*Math.random())}),"")})),n("randomByRange",(function(n,r){return Math.floor(Math.random()*(r-n+1)+n)}));var a=/\((\d+)\)/,u=function(n){var r;return parseInt((null==(r=n.match(a))?void 0:r[1])||"0")};n("sortSpriteFrame",(function(n){return n.sort((function(n,r){return u(n.name)-u(r.name)}))}));r._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts","./IronSkeletonStateMachine.ts"],(function(n){var t,e,o,r,i,a;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator},function(n){o=n.cclegacy,r=n._decorator},function(n){i=n.EnemyManager},function(n){a=n.IronSkeletonStateMachine}],execute:function(){var c;o._RF.push({},"9f0283OvEdK66GVEoxi3fm9","IronSkeletonManager",void 0);var s=r.ccclass;r.property,n("IronSkeletonManager",s("IronSkeletonManager")(c=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var r=o.prototype;return r.init=function(){var t=e((function*(t){console.log("IronSkeletonManager init"),this.fsm=this.addComponent(a),yield this.fsm.init(),n.prototype.init.call(this,t),this.onChangeDirection(!0)}));return function(n){return t.apply(this,arguments)}}(),r.onDestroy=function(){n.prototype.onDestroy.call(this)},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./index.ts","./DeathSubStateMachine.ts","./IdleSubStateMachine.ts"],(function(t){var e,n,i,a,s,r,c,h,o,u,S;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){i=t.cclegacy,a=t._decorator,s=t.Animation},function(t){r=t.getInitParamsTrigger,c=t.getInitParamsNumber,h=t.StateMachine},function(t){o=t.PARAMS_NAME_ENUM},function(t){u=t.default},function(t){S=t.default}],execute:function(){var l;i._RF.push({},"2728c/n9HBNc4ojYAvcdd1D","IronSkeletonStateMachine",void 0);var M=a.ccclass;a.property,t("IronSkeletonStateMachine",M("IronSkeletonStateMachine")(l=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var t=n((function*(){this.animationComponent=this.addComponent(s),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(o.IDLE,r()),this.params.set(o.DEATH,r()),this.params.set(o.DIRECTION,c())},a.initStateMachine=function(){this.stateMachine.set(o.IDLE,new S(this)),this.stateMachine.set(o.DEATH,new u(this))},a.initAnimationEvent=function(){},a.run=function(){switch(this.currentState){case this.stateMachine.get(o.IDLE):case this.stateMachine.get(o.DEATH):this.params.get(o.DEATH).value?this.currentState=this.stateMachine.get(o.DEATH):this.params.get(o.IDLE).value?this.currentState=this.stateMachine.get(o.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(o.IDLE)}},i}(h))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/level1.ts",["cc","./index.ts"],(function(L){var O,e,t,c,s;return{setters:[function(L){O=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,t=L.DIRECTION_ENUM,c=L.ENTITY_STATE_ENUM,s=L.ENTITY_TYPE_ENUM}],execute:function(){O._RF.push({},"91c4cVeCbRGrq8h3KP41Pwi","level1",void 0);var r=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:2,y:8,direction:t.TOP,state:c.IDLE,type:s.PLAYER},y=[{x:7,y:6,direction:t.TOP,state:c.IDLE,type:s.SKELETON_WOODEN}],_={x:7,y:8,direction:t.BOTTOM,state:c.IDLE,type:s.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});O._RF.pop()}}}));

System.register("chunks:///_virtual/level10.ts",["cc","./index.ts"],(function(L){var t,e,O,s,y;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,y=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"30e1648d9ZIv48U5A9ga1ky","level10",void 0);var c=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:1,y:7,direction:O.TOP,state:s.IDLE,type:y.PLAYER},p=[{x:1,y:3,direction:O.BOTTOM,state:s.IDLE,type:y.SKELETON_WOODEN},{x:2,y:4,direction:O.BOTTOM,state:s.IDLE,type:y.SKELETON_IRON},{x:5,y:5,direction:O.LEFT,state:s.IDLE,type:y.SKELETON_WOODEN}],R=[{x:4,y:3,type:y.SPIKES_THREE,count:0}],_=[{x:3,y:4,state:s.IDLE,type:y.BURST,direction:O.TOP},{x:3,y:5,state:s.IDLE,type:y.BURST,direction:O.TOP}],E={x:6,y:1,direction:O.LEFT,state:s.IDLE,type:y.DOOR};L("default",{mapInfo:c,player:r,enemies:p,spikes:R,bursts:_,door:E});t._RF.pop()}}}));

System.register("chunks:///_virtual/level11.ts",["cc","./index.ts"],(function(t){var L,e,O,y,c;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,O=t.DIRECTION_ENUM,y=t.ENTITY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"3a61bHZ+7VG27e+//2p2lE2","level11",void 0);var s=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:22,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:22,type:e.WALL_RIGHT_TOP},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:0,y:3,direction:O.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:4,y:2,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:6,y:1,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_IRON},{x:9,y:1,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_IRON}],R=[{x:4,y:1,type:c.SPIKES_THREE,count:0},{x:6,y:3,type:c.SPIKES_TWO,count:0}],_=[{x:3,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:2,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP}],T={x:9,y:0,direction:O.BOTTOM,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:_,door:T});L._RF.pop()}}}));

System.register("chunks:///_virtual/level12.ts",["cc","./index.ts"],(function(e){var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,c=e.ENTITY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"35ae63yawVK25k1HsixXiAz","level12",void 0);var y=[[{src:20,type:L.WALL_LEFT_TOP},{src:1,type:L.FLOOR},{src:18,type:L.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_ROW},{src:23,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}]],p={x:3,y:5,direction:s.TOP,state:c.IDLE,type:r.PLAYER},O=[{x:1,y:1,direction:s.BOTTOM,state:c.IDLE,type:r.SKELETON_IRON},{x:6,y:2,direction:s.LEFT,state:c.IDLE,type:r.SKELETON_WOODEN}],E=[{x:4,y:2,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:4,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP}],l={x:0,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:y,player:p,enemies:O,spikes:[],bursts:E,door:l});t._RF.pop()}}}));

System.register("chunks:///_virtual/level13.ts",["cc","./index.ts"],(function(t){var e,L,s,c,r;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,s=t.DIRECTION_ENUM,c=t.ENTITY_STATE_ENUM,r=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"e16fcZhZJtB0ZjuloJcmsmX","level13",void 0);var l=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_RIGHT_TOP},{src:14,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y={x:10,y:1,direction:s.LEFT,state:c.IDLE,type:r.PLAYER},p=[{x:1,y:4,direction:s.RIGHT,state:c.IDLE,type:r.SKELETON_WOODEN},{x:3,y:2,direction:s.RIGHT,state:c.IDLE,type:r.SKELETON_IRON},{x:5,y:1,direction:s.RIGHT,state:c.IDLE,type:r.SKELETON_WOODEN}],O=[{x:1,y:1,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:5,y:2,state:c.IDLE,type:r.BURST,direction:s.TOP}],n={x:1,y:6,direction:s.BOTTOM,state:c.IDLE,type:r.DOOR};t("default",{mapInfo:l,player:y,enemies:p,spikes:[],bursts:O,door:n});e._RF.pop()}}}));

System.register("chunks:///_virtual/level14.ts",["cc","./index.ts"],(function(t){var L,e,O,y,c;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,O=t.DIRECTION_ENUM,y=t.ENTITY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"c5b46HC0pxCqqyvEEKUICzW","level14",void 0);var s=[[{src:22,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_RIGHT},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_RIGHT},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:27,type:e.WALL_ROW},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_CENTER},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_CENTER}],[{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null}]],r={x:1,y:0,direction:O.BOTTOM,state:y.IDLE,type:c.PLAYER},p=[{x:3,y:4,direction:O.TOP,state:y.IDLE,type:c.SKELETON_WOODEN},{x:8,y:3,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN}],R=[{x:3,y:2,type:c.SPIKES_TWO,count:0}],F=[{x:1,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:2,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:7,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:7,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:2,state:y.IDLE,type:c.BURST,direction:O.TOP}],_={x:10,y:1,direction:O.LEFT,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:F,door:_});L._RF.pop()}}}));

System.register("chunks:///_virtual/level15.ts",["cc","./index.ts"],(function(L){var t,e,c,s,y;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,c=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,y=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"d7842hazF1Ih5E5dVNCS6uH","level15",void 0);var r=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:1,type:e.FLOOR},{src:22,type:e.WALL_ROW},{src:28,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}]],O={x:0,y:1,direction:c.RIGHT,state:s.IDLE,type:y.PLAYER},p=[{x:2,y:4,direction:c.TOP,state:s.IDLE,type:y.SKELETON_WOODEN},{x:4,y:6,direction:c.TOP,state:s.IDLE,type:y.SKELETON_WOODEN}],_=[{x:1,y:2,type:y.SPIKES_THREE,count:0},{x:2,y:2,type:y.SPIKES_THREE,count:0},{x:2,y:6,type:y.SPIKES_TWO,count:0}],l={x:7,y:7,direction:c.LEFT,state:s.IDLE,type:y.DOOR};L("default",{mapInfo:r,player:O,enemies:p,spikes:_,bursts:[],door:l});t._RF.pop()}}}));

System.register("chunks:///_virtual/level16.ts",["cc","./index.ts"],(function(L){var t,e,O,y,c;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,y=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"d5755q6c7BMhIjhuHX1cEuP","level16",void 0);var s=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT},{src:null,type:null}]],r={x:0,y:1,direction:O.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:4,y:4,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:5,y:3,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:6,y:2,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:4,y:6,direction:O.TOP,state:y.IDLE,type:c.SKELETON_IRON},{x:4,y:7,direction:O.TOP,state:y.IDLE,type:c.SKELETON_IRON}],R=[{x:4,y:5,type:c.SPIKES_THREE,count:0},{x:5,y:5,type:c.SPIKES_TWO,count:0},{x:6,y:5,type:c.SPIKES_ONE,count:0}],_=[{x:3,y:5,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:6,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:7,state:y.IDLE,type:c.BURST,direction:O.TOP}],E={x:0,y:7,direction:O.LEFT,state:y.IDLE,type:c.DOOR};L("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:_,door:E});t._RF.pop()}}}));

System.register("chunks:///_virtual/level17.ts",["cc","./index.ts"],(function(t){var e,L,y,O,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,y=t.DIRECTION_ENUM,O=t.ENTITY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"8f7b0iQcwZOcb+MeF9VNz9A","level17",void 0);var p=[[{src:20,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:15,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:21,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}]],s={x:7,y:7,direction:y.LEFT,state:O.IDLE,type:c.PLAYER},r=[{x:2,y:1,direction:y.BOTTOM,state:O.IDLE,type:c.SKELETON_WOODEN},{x:2,y:4,direction:y.RIGHT,state:O.IDLE,type:c.SKELETON_WOODEN}],R=[{x:1,y:3,type:c.SPIKES_TWO,count:0},{x:3,y:3,type:c.SPIKES_TWO,count:0},{x:4,y:1,type:c.SPIKES_TWO,count:0},{x:4,y:4,type:c.SPIKES_TWO,count:0},{x:4,y:6,type:c.SPIKES_TWO,count:0},{x:5,y:3,type:c.SPIKES_TWO,count:0},{x:6,y:2,type:c.SPIKES_TWO,count:0},{x:6,y:6,type:c.SPIKES_TWO,count:0}],F=[{x:1,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:2,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:4,y:2,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:4,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:5,y:4,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:5,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:6,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP}],E={x:0,y:1,direction:y.LEFT,state:O.IDLE,type:c.DOOR};t("default",{mapInfo:p,player:s,enemies:r,spikes:R,bursts:F,door:E});e._RF.pop()}}}));

System.register("chunks:///_virtual/level18.ts",["cc","./index.ts"],(function(t){var L,e,y,c,s;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,y=t.DIRECTION_ENUM,c=t.ENTITY_STATE_ENUM,s=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"7051c9UMsdP6qT4S5hysDji","level18",void 0);var r=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],p={x:3,y:8,direction:y.LEFT,state:c.IDLE,type:s.PLAYER},l=[{x:1,y:1,direction:y.BOTTOM,state:c.IDLE,type:s.SKELETON_WOODEN},{x:3,y:2,direction:y.BOTTOM,state:c.IDLE,type:s.SKELETON_WOODEN}],O=[{x:1,y:4,type:s.SPIKES_TWO,count:0},{x:1,y:6,type:s.SPIKES_TWO,count:0},{x:1,y:8,type:s.SPIKES_FOUR,count:0}],_=[{x:1,y:5,state:c.IDLE,type:s.BURST,direction:y.TOP},{x:2,y:9,state:c.IDLE,type:s.BURST,direction:y.TOP}],n={x:5,y:2,direction:y.LEFT,state:c.IDLE,type:s.DOOR};t("default",{mapInfo:r,player:p,enemies:l,spikes:O,bursts:_,door:n});L._RF.pop()}}}));

System.register("chunks:///_virtual/level19.ts",["cc","./index.ts"],(function(L){var t,e,y,s,O;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,y=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,O=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"b10aahIHQdKk5AmEJLaR5I7","level19",void 0);var c=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}]],r={x:0,y:1,direction:y.RIGHT,state:s.IDLE,type:O.PLAYER},p=[{x:2,y:5,direction:y.TOP,state:s.IDLE,type:O.SKELETON_WOODEN},{x:4,y:9,direction:y.TOP,state:s.IDLE,type:O.SKELETON_WOODEN}],_=[{x:1,y:5,state:s.IDLE,type:O.BURST,direction:y.TOP},{x:1,y:6,state:s.IDLE,type:O.BURST,direction:y.TOP},{x:1,y:7,state:s.IDLE,type:O.BURST,direction:y.TOP},{x:1,y:8,state:s.IDLE,type:O.BURST,direction:y.TOP},{x:1,y:9,state:s.IDLE,type:O.BURST,direction:y.TOP},{x:2,y:6,state:s.IDLE,type:O.BURST,direction:y.TOP},{x:2,y:7,state:s.IDLE,type:O.BURST,direction:y.TOP}],R={x:6,y:9,direction:y.LEFT,state:s.IDLE,type:O.DOOR};L("default",{mapInfo:c,player:r,enemies:p,spikes:[],bursts:_,door:R});t._RF.pop()}}}));

System.register("chunks:///_virtual/level2.ts",["cc","./index.ts"],(function(L){var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"c07f2lnW7JGNb9ViuhU+6Wv","level2",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],y={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.PLAYER},p=[{x:3,y:2,direction:O.TOP,state:s.IDLE,type:c.SKELETON_WOODEN},{x:4,y:3,direction:O.TOP,state:s.IDLE,type:c.SKELETON_WOODEN}],_={x:5,y:3,direction:O.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:y,enemies:p,spikes:[],bursts:[],door:_});e._RF.pop()}}}));

System.register("chunks:///_virtual/level20.ts",["cc","./index.ts"],(function(t){var e,L,c,s,y;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,c=t.DIRECTION_ENUM,s=t.ENTITY_STATE_ENUM,y=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"576c2w5Xa1Ic4NM/4QFlMkf","level20",void 0);var r=[[{src:null,type:null},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:18,type:L.CLIFF_LEFT}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:L.WALL_RIGHT_TOP},{src:25,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:22,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}]],p={x:0,y:4,direction:c.RIGHT,state:s.IDLE,type:y.PLAYER},O=[{x:9,y:1,direction:c.LEFT,state:s.IDLE,type:y.SKELETON_WOODEN},{x:9,y:3,direction:c.LEFT,state:s.IDLE,type:y.SKELETON_IRON},{x:9,y:4,direction:c.LEFT,state:s.IDLE,type:y.SKELETON_IRON}],l=[{x:1,y:2,state:s.IDLE,type:y.BURST,direction:c.TOP},{x:1,y:3,state:s.IDLE,type:y.BURST,direction:c.TOP},{x:2,y:3,state:s.IDLE,type:y.BURST,direction:c.TOP},{x:2,y:4,state:s.IDLE,type:y.BURST,direction:c.TOP},{x:7,y:4,state:s.IDLE,type:y.BURST,direction:c.TOP}],R={x:9,y:0,direction:c.BOTTOM,state:s.IDLE,type:y.DOOR};t("default",{mapInfo:r,player:p,enemies:O,spikes:[],bursts:l,door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/level21.ts",["cc","./index.ts"],(function(e){var t,L,s,r,c;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,r=e.ENTITY_STATE_ENUM,c=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"69d1eh+CiVIWrK09KnA+W2A","level21",void 0);var O=[[{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:18,type:L.CLIFF_LEFT}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:13,type:L.WALL_LEFT_BOTTOM},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:21,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}],[{src:20,type:L.WALL_LEFT_TOP},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y={x:0,y:7,direction:s.TOP,state:r.IDLE,type:c.PLAYER},p=[{x:2,y:6,direction:s.LEFT,state:r.IDLE,type:c.SKELETON_WOODEN}],R=[{x:2,y:3,state:r.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:5,state:r.IDLE,type:c.BURST,direction:s.TOP},{x:3,y:3,state:r.IDLE,type:c.BURST,direction:s.TOP},{x:3,y:4,state:r.IDLE,type:c.BURST,direction:s.TOP}],F={x:7,y:6,direction:s.LEFT,state:r.IDLE,type:c.DOOR};e("default",{mapInfo:O,player:y,enemies:p,spikes:[],bursts:R,door:F});t._RF.pop()}}}));

System.register("chunks:///_virtual/level3.ts",["cc","./index.ts"],(function(l){var t,e,L,y,c;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,L=l.DIRECTION_ENUM,y=l.ENTITY_STATE_ENUM,c=l.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"101f5JmWa5FSptWaUSJ/rDU","level3",void 0);var p=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],s={x:0,y:8,direction:L.RIGHT,state:y.IDLE,type:c.PLAYER},r=[{x:6,y:7,direction:L.TOP,state:y.IDLE,type:c.SKELETON_WOODEN}],O=[{x:4,y:8,type:c.SPIKES_ONE,count:0},{x:4,y:9,type:c.SPIKES_ONE,count:0},{x:6,y:3,type:c.SPIKES_ONE,count:0},{x:7,y:3,type:c.SPIKES_ONE,count:0},{x:6,y:5,type:c.SPIKES_ONE,count:0},{x:7,y:5,type:c.SPIKES_ONE,count:0}],n={x:6,y:0,direction:L.BOTTOM,state:y.IDLE,type:c.DOOR};l("default",{mapInfo:p,player:s,enemies:r,spikes:O,bursts:[],door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/level4.ts",["cc","./index.ts"],(function(L){var e,t,O,c,s;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,c=L.ENTITY_STATE_ENUM,s=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"aca80z4ZbRBc5NnXehce+1o","level4",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:7,direction:O.TOP,state:c.IDLE,type:s.PLAYER},y=[{x:1,y:3,direction:O.BOTTOM,state:c.IDLE,type:s.SKELETON_IRON}],T={x:2,y:0,direction:O.BOTTOM,state:c.IDLE,type:s.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:T});e._RF.pop()}}}));

System.register("chunks:///_virtual/level5.ts",["cc","./index.ts"],(function(e){var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,c=e.ENTITY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"289e4AtnuhKF70mSEasqW9O","level5",void 0);var p=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:21,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}]],y={x:1,y:3,direction:s.TOP,state:c.IDLE,type:r.PLAYER},E=[{x:5,y:1,direction:s.LEFT,state:c.IDLE,type:r.SKELETON_WOODEN}],O={x:6,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:p,player:y,enemies:E,spikes:[],bursts:[],door:O});t._RF.pop()}}}));

System.register("chunks:///_virtual/level6.ts",["cc","./index.ts"],(function(L){var e,O,t,s,c;return{setters:[function(L){e=L.cclegacy},function(L){O=L.TILE_TYPE_ENUM,t=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"16fc7f486NFCa2kfs6EEMPf","level6",void 0);var r=[[{src:16,type:O.WALL_LEFT_TOP},{src:5,type:O.WALL_COLUMN},{src:23,type:O.WALL_COLUMN},{src:1,type:O.FLOOR},{src:22,type:O.WALL_COLUMN},{src:5,type:O.WALL_COLUMN},{src:13,type:O.WALL_LEFT_BOTTOM},{src:18,type:O.CLIFF_LEFT}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER},{src:null,type:null},{src:1,type:O.FLOOR},{src:17,type:O.CLIFF_CENTER},{src:null,type:null},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:15,type:O.WALL_RIGHT_TOP},{src:5,type:O.WALL_COLUMN},{src:23,type:O.WALL_RIGHT_BOTTOM},{src:1,type:O.FLOOR},{src:22,type:O.WALL_COLUMN},{src:5,type:O.WALL_COLUMN},{src:14,type:O.WALL_RIGHT_BOTTOM},{src:19,type:O.CLIFF_RIGHT}]],y={x:0,y:3,direction:t.RIGHT,state:s.IDLE,type:c.PLAYER},p=[{x:5,y:2,direction:t.LEFT,state:s.IDLE,type:c.SKELETON_WOODEN},{x:5,y:4,direction:t.LEFT,state:s.IDLE,type:c.SKELETON_WOODEN}],R={x:8,y:3,direction:t.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:y,enemies:p,spikes:[],bursts:[],door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/level7.ts",["cc","./index.ts"],(function(L){var O,t,e,c,y;return{setters:[function(L){O=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,e=L.DIRECTION_ENUM,c=L.ENTITY_STATE_ENUM,y=L.ENTITY_TYPE_ENUM}],execute:function(){O._RF.push({},"3b2583O/vpLMY2mbzr5ptti","level7",void 0);var s=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:21,type:t.WALL_RIGHT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:7,direction:e.TOP,state:c.IDLE,type:y.PLAYER},r=[{x:2,y:2,direction:e.BOTTOM,state:c.IDLE,type:y.SKELETON_WOODEN}],_=[{x:1,y:4,type:y.SPIKES_ONE,count:0},{x:2,y:4,type:y.SPIKES_TWO,count:0},{x:3,y:4,type:y.SPIKES_TWO,count:0},{x:4,y:4,type:y.SPIKES_THREE,count:0}],T={x:2,y:0,direction:e.BOTTOM,state:c.IDLE,type:y.DOOR};L("default",{mapInfo:s,player:p,enemies:r,spikes:_,bursts:[],door:T});O._RF.pop()}}}));

System.register("chunks:///_virtual/level8.ts",["cc","./index.ts"],(function(l){var t,e,n,y,s;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,n=l.DIRECTION_ENUM,y=l.ENTITY_STATE_ENUM,s=l.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"dcb366TpmhDQ5bKhvNDoK0T","level8",void 0);var c=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:21,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],r={x:1,y:7,direction:n.TOP,state:y.IDLE,type:s.PLAYER},p=[{x:8,y:1,direction:n.LEFT,state:y.IDLE,type:s.SKELETON_WOODEN}],u=[{x:1,y:2,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:1,y:5,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:1,y:6,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:2,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:3,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:4,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:5,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:6,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:6,y:2,state:y.IDLE,type:s.BURST,direction:n.TOP}],L={x:9,y:1,direction:n.LEFT,state:y.IDLE,type:s.DOOR};l("default",{mapInfo:c,player:r,enemies:p,spikes:[],bursts:u,door:L});t._RF.pop()}}}));

System.register("chunks:///_virtual/level9.ts",["cc","./index.ts"],(function(L){var t,e,y,O,c;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,y=L.DIRECTION_ENUM,O=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"34617i6sL5Dga/wy738QT4V","level9",void 0);var s=[[{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:2,y:11,direction:y.TOP,state:O.IDLE,type:c.PLAYER},p=[{x:1,y:1,direction:y.BOTTOM,state:O.IDLE,type:c.SKELETON_WOODEN},{x:2,y:7,direction:y.BOTTOM,state:O.IDLE,type:c.SKELETON_WOODEN}],T=[{x:1,y:3,type:c.SPIKES_THREE,count:0},{x:3,y:6,type:c.SPIKES_ONE,count:0},{x:2,y:9,type:c.SPIKES_TWO,count:0}],_=[{x:3,y:1,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:4,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:2,y:10,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:10,state:O.IDLE,type:c.BURST,direction:y.TOP}],E={x:0,y:1,direction:y.LEFT,state:O.IDLE,type:c.DOOR};L("default",{mapInfo:s,player:r,enemies:p,spikes:T,bursts:_,door:E});t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(r){var e,n,t,o,a,i,c,s,u,l,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,t=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){a=r.cclegacy,i=r._decorator,c=r.ProgressBar,s=r.resources,u=r.director,l=r.Component},function(r){p=r.SCENE_ENUM}],execute:function(){var g,d,f,y,h;a._RF.push({},"5fa6cLYZRpN44BdDGJngVlz","LoadingManager",void 0);var L=i.ccclass,b=i.property;r("LoadingManager",(g=L("LoadingManager"),d=b(c),g((h=e((y=function(r){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a))||this,t(e,"bar",h,o(e)),e}return n(e,r),e.prototype.onLoad=function(){var r=this;s.preloadDir("texture",(function(e,n){r.bar.progress=e/n}),(function(){u.loadScene(p.Start)}))},e}(l)).prototype,"bar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./DirectionSubStateMachine.ts","./EnemyManager.ts","./EntityManager.ts","./Singleton.ts","./State.ts","./StateMachine.ts","./SubStateMachine.ts","./index.ts","./index2.ts","./level1.ts","./level10.ts","./level11.ts","./level12.ts","./level13.ts","./level14.ts","./level15.ts","./level16.ts","./level17.ts","./level18.ts","./level19.ts","./level2.ts","./level20.ts","./level21.ts","./level3.ts","./level4.ts","./level5.ts","./level6.ts","./level7.ts","./level8.ts","./level9.ts","./DataManager.ts","./EventManager.ts","./FadeManager.ts","./ResourceManager.ts","./BurstManager.ts","./BurstStateMachine.ts","./DeathSubStateMachine2.ts","./DoorManager.ts","./DoorStateMachine.ts","./IdleSubStateMachine2.ts","./DeathSubStateMachine.ts","./IdleSubStateMachine.ts","./IronSkeletonManager.ts","./IronSkeletonStateMachine.ts","./AirDeathSubStateMAchine.ts","./AttackSubStateMachine.ts","./BlockBacktSubStateMachine.ts","./BlockFrontSubStateMachine.ts","./BlockLefttSubStateMachine.ts","./BlockRighttSubStateMachine.ts","./BlockTurnLeftSubStateMachine.ts","./BlockTurnRightSubStateMachine.ts","./DeathSubStateMAchine5.ts","./IdleSubStateMachine4.ts","./PlayerManager.ts","./PlayerStateMachine.ts","./TurnLeftSubStateMachine.ts","./TurnRightSubStateMachine.ts","./BattleManager.ts","./LoadingManager.ts","./StartManager.ts","./DeathSubStateMachine3.ts","./IdleSubStateMachine3.ts","./SmokeManager.ts","./SmokeStateMachine.ts","./SpikesFourStateMachine.ts","./SpikesManager.ts","./SpikesOneStateMachine.ts","./SpikesStateMahine.ts","./SpikesSubStateMachine.ts","./SpikesThreeStateMachine.ts","./SpikesTwoStateMachine.ts","./TileManager.ts","./TileMapManager.ts","./CanvasreizeManager.ts","./ControllerManager.ts","./DrawManager.ts","./MenuManager.ts","./ShakeManager.ts","./AttackSubStateMachine2.ts","./DeathSubStateMachine4.ts","./IdleSubStateMachine5.ts","./WoodenSkeletonManager.ts","./WoodenSkeletonStateMachine.ts","./index3.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EventManager.ts"],(function(n){var e,t,a,r,o,u;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,a=n._decorator,r=n.Component},function(n){o=n.EVENT_ENUM},function(n){u=n.default}],execute:function(){var c;t._RF.push({},"039df6vDWhBtaaPxeZdKpyJ","MenuManager",void 0);var i=a.ccclass;a.property,n("MenuManager",i("MenuManager")(c=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var a=t.prototype;return a.handleUndo=function(){u.Instance.emit(o.REVOKE_STEP)},a.handleReStart=function(){u.Instance.emit(o.RESTART_LEVEL)},a.handleOut=function(){u.Instance.emit(o.QUIT_BATTLE)},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./index.ts","./DataManager.ts","./EventManager.ts","./PlayerStateMachine.ts"],(function(t){var e,i,r,n,s,a,u,T,l,o,h,f,O;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){r=t.cclegacy,n=t._decorator},function(t){s=t.EntityManager},function(t){a=t.EVENT_ENUM,u=t.ENTITY_STATE_ENUM,T=t.CONTROLLER_ENUM,l=t.SHAKE_TYPE_ENUM,o=t.DIRECTION_ENUM},function(t){h=t.default},function(t){f=t.default},function(t){O=t.PlayerStateMachine}],execute:function(){var E;r._RF.push({},"55eee25nftIhYrFPB8crOpr","PlayerManager",void 0);var v=n.ccclass;n.property,t("PlayerManager",v("PlayerManager")(E=function(t){function r(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).targetX=0,e.targetY=0,e.isMoving=!1,e.speed=.1,e}e(r,t);var n=r.prototype;return n.init=function(){var e=i((function*(e){this.fsm=this.addComponent(O),yield this.fsm.init(),t.prototype.init.call(this,e),this.targetX=this.x,this.targetY=this.y,f.Instance.on(a.PLAYER_CTRL,this.inputHandle,this),f.Instance.on(a.ATTACK_PLAYER,this.onDead,this)}));return function(t){return e.apply(this,arguments)}}(),n.onDestroy=function(){t.prototype.onDestroy.call(this),f.Instance.off(a.PLAYER_CTRL,this.inputHandle),f.Instance.off(a.ATTACK_PLAYER,this.onDead)},n.update=function(){this.updateXY(),t.prototype.update.call(this)},n.updateXY=function(){this.targetX<this.x?this.x-=this.speed:this.targetX>this.x&&(this.x+=this.speed),this.targetY<this.y?this.y-=this.speed:this.targetY>this.y&&(this.y+=this.speed),Math.abs(this.targetX-this.x)<=.1&&Math.abs(this.targetY-this.y)<=.1&&this.isMoving&&(this.isMoving=!1,this.x=this.targetX,this.y=this.targetY,f.Instance.emit(a.PLAYER_MOVE_END))},n.onDead=function(t){var e=this;this.state=t,this.scheduleOnce((function(){e.state===u.DEATH&&f.Instance.emit(a.RESTART_LEVEL)}),3)},n.inputHandle=function(t){if(!this.isMoving&&this.state!==u.DEATH&&this.state!==u.AIRDEATH&&this.state!==u.ATTACK){var e=this.willAttack(t);if(e)return f.Instance.emit(a.RECORD_STEP),this.state=u.ATTACK,f.Instance.emit(a.ATTACK_ENEMY,e),f.Instance.emit(a.DOOR_OPEN),void f.Instance.emit(a.PLAYER_MOVE_END);this.willBlock(t)?t===T.TOP?f.Instance.emit(a.SCREEN_SHAKE,l.TOP):t===T.BOTTOM?f.Instance.emit(a.SCREEN_SHAKE,l.BOTTOM):t===T.LEFT?f.Instance.emit(a.SCREEN_SHAKE,l.LEFT):t===T.RIGHT?f.Instance.emit(a.SCREEN_SHAKE,l.RIGHT):t===T.TURNLEFT?this.direction===o.TOP?f.Instance.emit(a.SCREEN_SHAKE,l.LEFT):this.direction===o.BOTTOM?f.Instance.emit(a.SCREEN_SHAKE,l.RIGHT):this.direction===o.LEFT?f.Instance.emit(a.SCREEN_SHAKE,l.BOTTOM):this.direction===o.RIGHT&&f.Instance.emit(a.SCREEN_SHAKE,l.TOP):t===T.TURNRIGHT&&(this.direction===o.TOP?f.Instance.emit(a.SCREEN_SHAKE,l.RIGHT):this.direction===o.BOTTOM?f.Instance.emit(a.SCREEN_SHAKE,l.LEFT):this.direction===o.LEFT?f.Instance.emit(a.SCREEN_SHAKE,l.TOP):this.direction===o.RIGHT&&f.Instance.emit(a.SCREEN_SHAKE,l.BOTTOM)):this.move(t)}},n.onAttackShake=function(t){f.Instance.emit(a.SCREEN_SHAKE,t)},n.move=function(t){f.Instance.emit(a.RECORD_STEP),t===T.TOP?(this.targetY-=1,this.isMoving=!0,this.showSmoke(o.TOP)):t===T.BOTTOM?(this.targetY+=1,this.isMoving=!0,this.showSmoke(o.BOTTOM)):t===T.LEFT?(this.targetX-=1,this.isMoving=!0,this.showSmoke(o.LEFT)):t===T.RIGHT?(this.targetX+=1,this.isMoving=!0,this.showSmoke(o.RIGHT)):t===T.TURNLEFT?(this.direction===o.TOP?this.direction=o.LEFT:this.direction===o.LEFT?this.direction=o.BOTTOM:this.direction===o.BOTTOM?this.direction=o.RIGHT:this.direction===o.RIGHT&&(this.direction=o.TOP),this.state=u.TURNLEFT,console.log("PLAYER_MOVE_END"),f.Instance.emit(a.PLAYER_MOVE_END)):t===T.TURNRIGHT&&(this.direction===o.TOP?this.direction=o.RIGHT:this.direction===o.RIGHT?this.direction=o.BOTTOM:this.direction===o.BOTTOM?this.direction=o.LEFT:this.direction===o.LEFT&&(this.direction=o.TOP),this.state=u.TURNRIGHT,console.log("PLAYER_MOVE_END"),f.Instance.emit(a.PLAYER_MOVE_END))},n.showSmoke=function(t){f.Instance.emit(a.SHOW_SMOKE,this.x,this.y,t)},n.willAttack=function(t){for(var e=h.Instance.enemies.filter((function(t){return t.state!==u.DEATH})),i=0;i<e.length;i++){var r=e[i],n=r.x,s=r.y,a=r.id;if(t===T.TOP&&this.direction===o.TOP&&n===this.x&&s===this.targetY-2)return this.state=u.ATTACK,a;if(t===T.LEFT&&this.direction===o.LEFT&&n===this.x-2&&s===this.targetY)return this.state=u.ATTACK,a;if(t===T.BOTTOM&&this.direction===o.BOTTOM&&n===this.x&&s===this.targetY+2)return this.state=u.ATTACK,a;if(t===T.RIGHT&&this.direction===o.RIGHT&&n===this.x+2&&s===this.targetY)return this.state=u.ATTACK,a}return""},n.willBlock=function(t){var e=this.targetX,i=this.targetY,r=this.direction,n=h.Instance.tileInfo,s=h.Instance.enemies.filter((function(t){return t.state!==u.DEATH})),a=h.Instance.door||{},l=a.x,f=a.y,O=a.state,E=h.Instance.bursts.filter((function(t){return t.state!==u.DEATH})),v=h.Instance,L=v.mapRowCount,c=v.mapColumnCount;if(t===T.TOP){var C=i-1;if(r===o.TOP){var R,B;if(C<0)return this.state=u.BLOCKFRONT,!0;var K=i-2,d=null==(R=n[e])?void 0:R[C],A=null==(B=n[e])?void 0:B[K];if((l===e&&f===C||l===e&&f===K)&&O!==u.DEATH)return this.state=u.BLOCKFRONT,!0;for(var H=0;H<s.length;H++){var I=s[H],m=I.x,y=I.y;if(m===e&&y===K||m===e&&y===C)return this.state=u.BLOCKFRONT,!0}if(E.some((function(t){return t.x===e&&t.y===C}))&&(!A||A.turnable))return!1;if(!d||!d.moveable||A&&!A.turnable)return this.state=u.BLOCKFRONT,!0}else if(r===o.BOTTOM){var F,N;if(C<0)return this.state=u.BLOCKBACK,!0;var g=i,b=null==(F=n[e])?void 0:F[C],M=null==(N=n[e])?void 0:N[g];if((l===e&&f===C||l===e&&f===g)&&O!==u.DEATH)return this.state=u.BLOCKBACK,!0;for(var x=0;x<s.length;x++){var G=s[x],_=G.x,P=G.y;if(_===e&&P===C)return this.state=u.BLOCKBACK,!0}if(E.some((function(t){return t.x===e&&t.y===C}))&&(!M||M.turnable))return!1;if(!b||!b.moveable||M&&!M.turnable)return this.state=u.BLOCKBACK,!0}else if(r===o.LEFT){var S,D;if(C<0)return this.state=u.BLOCKRIGHT,!0;var p=e-1,Y=i-1,U=null==(S=n[e])?void 0:S[C],k=null==(D=n[p])?void 0:D[Y];if((l===e&&f===C||l===p&&f===Y)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var w=0;w<s.length;w++){var X=s[w],V=X.x,j=X.y;if(V===e&&j===C||V===p&&j===Y)return this.state=u.BLOCKRIGHT,!0}if(E.some((function(t){return t.x===e&&t.y===C}))&&(!k||k.turnable))return!1;if(!U||!U.moveable||k&&!k.turnable)return this.state=u.BLOCKRIGHT,!0}else if(r===o.RIGHT){var W,q;if(C<0)return this.state=u.BLOCKLEFT,!0;var z=e+1,J=i-1,Q=null==(W=n[e])?void 0:W[C],Z=null==(q=n[z])?void 0:q[J];if((l===e&&f===C||l===z&&f===J)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var $=0;$<s.length;$++){var tt=s[$],et=tt.x,it=tt.y;if(et===e&&it===C||et===z&&it===J)return this.state=u.BLOCKLEFT,!0}if(E.some((function(t){return t.x===e&&t.y===C}))&&(!Z||Z.turnable))return!1;if(!Q||!Q.moveable||Z&&!Z.turnable)return this.state=u.BLOCKLEFT,!0}}else if(t===T.BOTTOM){var rt=i+1;if(r===o.TOP){var nt,st;if(rt>c-1)return this.state=u.BLOCKBACK,!0;var at=i,ut=null==(nt=n[e])?void 0:nt[rt],Tt=null==(st=n[e])?void 0:st[at];if((l===e&&f===rt||l===e&&f===at)&&O!==u.DEATH)return this.state=u.BLOCKBACK,!0;for(var lt=0;lt<s.length;lt++){var ot=s[lt],ht=ot.x,ft=ot.y;if(ht===e&&ft===rt)return this.state=u.BLOCKBACK,!0}if(E.some((function(t){return t.x===e&&t.y===rt}))&&(!Tt||Tt.turnable))return!1;if(!ut||!ut.moveable||Tt&&!Tt.turnable)return this.state=u.BLOCKBACK,!0}else if(r===o.BOTTOM){var Ot,Et;if(rt>c-1)return this.state=u.BLOCKFRONT,!0;var vt=i+2,Lt=null==(Ot=n[e])?void 0:Ot[rt],ct=null==(Et=n[e])?void 0:Et[vt];if((l===e&&f===rt||l===e&&f===vt)&&O!==u.DEATH)return this.state=u.BLOCKFRONT,!0;for(var Ct=0;Ct<s.length;Ct++){var Rt=s[Ct],Bt=Rt.x,Kt=Rt.y;if(Bt===e&&Kt===vt||Bt===e&&Kt===rt)return this.state=u.BLOCKFRONT,!0}if(E.some((function(t){return t.x===e&&t.y===rt}))&&(!ct||ct.turnable))return!1;if(!Lt||!Lt.moveable||ct&&!ct.turnable)return this.state=u.BLOCKFRONT,!0}else if(r===o.LEFT){var dt,At;if(rt>c-1)return this.state=u.BLOCKLEFT,!0;var Ht=e-1,It=i+1,mt=null==(dt=n[e])?void 0:dt[rt],yt=null==(At=n[Ht])?void 0:At[It];if((l===e&&f===rt||l===Ht&&f===It)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var Ft=0;Ft<s.length;Ft++){var Nt=s[Ft],gt=Nt.x,bt=Nt.y;if(gt===e&&bt===rt||gt===Ht&&bt===It)return this.state=u.BLOCKLEFT,!0}if(E.some((function(t){return t.x===e&&t.y===rt}))&&(!yt||yt.turnable))return!1;if(!mt||!mt.moveable||yt&&!yt.turnable)return this.state=u.BLOCKLEFT,!0}else if(r===o.RIGHT){var Mt,xt;if(rt>c-1)return this.state=u.BLOCKRIGHT,!0;var Gt=e+1,_t=i+1,Pt=null==(Mt=n[e])?void 0:Mt[rt],St=null==(xt=n[Gt])?void 0:xt[_t];if((l===e&&f===rt||l===Gt&&f===_t)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var Dt=0;Dt<s.length;Dt++){var pt=s[Dt],Yt=pt.x,Ut=pt.y;if(Yt===e&&Ut===rt||Yt===Gt&&Ut===_t)return this.state=u.BLOCKRIGHT,!0}if(E.some((function(t){return t.x===e&&t.y===rt}))&&(!St||St.turnable))return!1;if(!Pt||!Pt.moveable||St&&!St.turnable)return this.state=u.BLOCKRIGHT,!0}}else if(t===T.LEFT){var kt=e-1;if(r===o.TOP){var wt,Xt;if(kt<0)return this.state=u.BLOCKLEFT,!0;var Vt=e-1,jt=i-1,Wt=null==(wt=n[kt])?void 0:wt[i],qt=null==(Xt=n[Vt])?void 0:Xt[jt];if((l===kt&&f===i||l===Vt&&f===jt)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var zt=0;zt<s.length;zt++){var Jt=s[zt],Qt=Jt.x,Zt=Jt.y;if(Qt===kt&&Zt===i||Qt===Vt&&Zt===jt)return this.state=u.BLOCKLEFT,!0}if(E.some((function(t){return t.x===kt&&t.y===i}))&&(!qt||qt.turnable))return!1;if(!Wt||!Wt.moveable||qt&&!qt.turnable)return this.state=u.BLOCKLEFT,!0}else if(r===o.BOTTOM){var $t,te;if(kt<0)return this.state=u.BLOCKRIGHT,!0;var ee=e-1,ie=i+1,re=null==($t=n[kt])?void 0:$t[i],ne=null==(te=n[ee])?void 0:te[ie];if((l===kt&&f===i||l===ee&&f===ie)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var se=0;se<s.length;se++){var ae=s[se],ue=ae.x,Te=ae.y;if(ue===kt&&Te===i||ue===ee&&Te===ie)return this.state=u.BLOCKRIGHT,!0}if(E.some((function(t){return t.x===kt&&t.y===i}))&&(!ne||ne.turnable))return!1;if(!re||!re.moveable||ne&&!ne.turnable)return this.state=u.BLOCKRIGHT,!0}else if(r===o.LEFT){var le,oe;if(kt<0)return this.state=u.BLOCKFRONT,!0;var he=e-2,fe=null==(le=n[kt])?void 0:le[i],Oe=null==(oe=n[he])?void 0:oe[i];if((l===kt&&f===i||l===he&&f===i)&&O!==u.DEATH)return this.state=u.BLOCKFRONT,!0;for(var Ee=0;Ee<s.length;Ee++){var ve=s[Ee],Le=ve.x,ce=ve.y;if(Le===kt&&ce===i||Le===he&&ce===i)return this.state=u.BLOCKFRONT,!0}if(E.some((function(t){return t.x===kt&&t.y===i}))&&(!Oe||Oe.turnable))return!1;if(!fe||!fe.moveable||Oe&&!Oe.turnable)return this.state=u.BLOCKFRONT,!0}else if(r===o.RIGHT){var Ce,Re;if(kt<0)return this.state=u.BLOCKBACK,!0;var Be=e,Ke=null==(Ce=n[kt])?void 0:Ce[i],de=null==(Re=n[Be])?void 0:Re[i];if((l===kt&&f===i||l===Be&&f===i)&&O!==u.DEATH)return this.state=u.BLOCKBACK,!0;for(var Ae=0;Ae<s.length;Ae++){var He=s[Ae],Ie=He.x,me=He.y;if(Ie===kt&&me===i)return this.state=u.BLOCKBACK,!0}if(E.some((function(t){return t.x===kt&&t.y===i}))&&(!de||de.turnable))return!1;if(!Ke||!Ke.moveable||de&&!de.turnable)return this.state=u.BLOCKBACK,!0}}else if(t===T.RIGHT){var ye=e+1;if(r===o.TOP){var Fe,Ne;if(ye>L-1)return this.state=u.BLOCKRIGHT,!0;var ge=e+1,be=i-1,Me=null==(Fe=n[ye])?void 0:Fe[i],xe=null==(Ne=n[ge])?void 0:Ne[be];if((l===ye&&f===i||l===ge&&f===be)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var Ge=0;Ge<s.length;Ge++){var _e=s[Ge],Pe=_e.x,Se=_e.y;if(Pe===ye&&Se===i||Pe===ge&&Se===be)return this.state=u.BLOCKRIGHT,!0}if(E.some((function(t){return t.x===ye&&t.y===i}))&&(!xe||xe.turnable))return!1;if(!Me||!Me.moveable||xe&&!xe.turnable)return this.state=u.BLOCKRIGHT,!0}else if(r===o.BOTTOM){var De,pe;if(ye>L-1)return this.state=u.BLOCKLEFT,!0;var Ye=e+1,Ue=i+1,ke=null==(De=n[ye])?void 0:De[i],we=null==(pe=n[Ye])?void 0:pe[Ue];if((l===ye&&f===i||l===Ye&&f===Ue)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var Xe=0;Xe<s.length;Xe++){var Ve=s[Xe],je=Ve.x,We=Ve.y;if(je===ye&&We===i||je===Ye&&We===Ue)return this.state=u.BLOCKLEFT,!0}if(E.some((function(t){return t.x===ye&&t.y===i}))&&(!we||we.turnable))return!1;if(!ke||!ke.moveable||we&&!we.turnable)return this.state=u.BLOCKLEFT,!0}else if(r===o.LEFT){var qe,ze;if(ye>L-1)return this.state=u.BLOCKBACK,!0;var Je=e,Qe=null==(qe=n[ye])?void 0:qe[i],Ze=null==(ze=n[Je])?void 0:ze[i];if((l===ye&&f===i||l===Je&&f===i)&&O!==u.DEATH)return this.state=u.BLOCKBACK,!0;for(var $e=0;$e<s.length;$e++){var ti=s[$e],ei=ti.x,ii=ti.y;if(ei===ye&&ii===i)return this.state=u.BLOCKBACK,!0}if(E.some((function(t){return t.x===ye&&t.y===i}))&&(!Ze||Ze.turnable))return!1;if(!Qe||!Qe.moveable||Ze&&!Ze.turnable)return this.state=u.BLOCKBACK,!0}else if(r===o.RIGHT){var ri,ni;if(ye>L-1)return this.state=u.BLOCKFRONT,!0;var si=e+2,ai=null==(ri=n[ye])?void 0:ri[i],ui=null==(ni=n[si])?void 0:ni[i];if((l===ye&&f===i||l===si&&f===i)&&O!==u.DEATH)return this.state=u.BLOCKFRONT,!0;for(var Ti=0;Ti<s.length;Ti++){var li=s[Ti],oi=li.x,hi=li.y;if(oi===ye&&hi===i||oi===si&&hi===i)return this.state=u.BLOCKFRONT,!0}if(E.some((function(t){return t.x===ye&&t.y===i}))&&(!ui||ui.turnable))return!1;if(!ai||!ai.moveable||ui&&!ui.turnable)return this.state=u.BLOCKFRONT,!0}}else if(t===T.TURNLEFT){var fi,Oi,Ei,vi,Li,ci,Ci,Ri;if(r===o.TOP?(Ci=i-1,Ri=e-1):r===o.BOTTOM?(Ci=i+1,Ri=e+1):r===o.LEFT?(Ci=i+1,Ri=e-1):r===o.RIGHT&&(Ci=i-1,Ri=e+1),(l===e&&f===Ci||l===Ri&&f===i||l===Ri&&f===Ci)&&O!==u.DEATH)return this.state=u.BLOCKTURNLEFT,!0;for(var Bi=0;Bi<s.length;Bi++){var Ki=s[Bi],di=Ki.x,Ai=Ki.y;if(di===Ri&&Ai===i)return this.state=u.BLOCKTURNLEFT,!0;if(di===Ri&&Ai===Ci)return this.state=u.BLOCKTURNLEFT,!0;if(di===e&&Ai===Ci)return this.state=u.BLOCKTURNLEFT,!0}if(null!=(fi=n[e])&&fi[Ci]&&(null==(Oi=n[e])||!Oi[Ci].turnable)||null!=(Ei=n[Ri])&&Ei[i]&&(null==(vi=n[Ri])||!vi[i].turnable)||null!=(Li=n[Ri])&&Li[Ci]&&(null==(ci=n[Ri])||!ci[Ci].turnable))return this.state=u.BLOCKTURNLEFT,!0}else if(t===T.TURNRIGHT){var Hi,Ii,mi,yi,Fi,Ni,gi,bi;if(r===o.TOP?(bi=i-1,gi=e+1):r===o.BOTTOM?(bi=i+1,gi=e-1):r===o.LEFT?(bi=i-1,gi=e-1):r===o.RIGHT&&(bi=i+1,gi=e+1),(l===e&&f===bi||l===gi&&f===i||l===gi&&f===bi)&&O!==u.DEATH)return this.state=u.BLOCKTURNRIGHT,!0;for(var Mi=0;Mi<s.length;Mi++){var xi=s[Mi],Gi=xi.x,_i=xi.y;if(Gi===gi&&_i===i)return this.state=u.BLOCKTURNRIGHT,!0;if(Gi===gi&&_i===bi)return this.state=u.BLOCKTURNRIGHT,!0;if(Gi===e&&_i===bi)return this.state=u.BLOCKTURNRIGHT,!0}if(null!=(Hi=n[e])&&Hi[bi]&&(null==(Ii=n[e])||!Ii[bi].turnable)||null!=(mi=n[gi])&&mi[i]&&(null==(yi=n[gi])||!yi[i].turnable)||null!=(Fi=n[gi])&&Fi[bi]&&(null==(Ni=n[gi])||!Ni[bi].turnable))return this.state=u.BLOCKTURNRIGHT,!0}return!1},r}(s))||E);r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./StateMachine.ts","./index.ts","./AirDeathSubStateMAchine.ts","./AttackSubStateMachine.ts","./BlockBacktSubStateMachine.ts","./BlockFrontSubStateMachine.ts","./BlockLefttSubStateMachine.ts","./BlockRighttSubStateMachine.ts","./BlockTurnLeftSubStateMachine.ts","./BlockTurnRightSubStateMachine.ts","./DeathSubStateMAchine5.ts","./IdleSubStateMachine4.ts","./TurnLeftSubStateMachine.ts","./TurnRightSubStateMachine.ts"],(function(t){var e,a,s,i,n,h,c,r,u,T,o,M,L,l,R,S,g,f,C,p,m,B,E;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator},function(t){s=t.cclegacy,i=t._decorator,n=t.Animation},function(t){h=t.EntityManager},function(t){c=t.getInitParamsTrigger,r=t.getInitParamsNumber,u=t.StateMachine},function(t){T=t.PARAMS_NAME_ENUM,o=t.ENTITY_STATE_ENUM},function(t){M=t.default},function(t){L=t.default},function(t){l=t.default},function(t){R=t.default},function(t){S=t.default},function(t){g=t.default},function(t){f=t.default},function(t){C=t.default},function(t){p=t.default},function(t){m=t.default},function(t){B=t.default},function(t){E=t.default}],execute:function(){var A;s._RF.push({},"61e71F6AnJBRJuABKpbrszx","PlayerStateMachine",void 0);var K=i.ccclass;i.property,t("PlayerStateMachine",K("PlayerStateMachine")(A=function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var i=s.prototype;return i.init=function(){var t=a((function*(){this.animationComponent=this.addComponent(n),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),i.initParams=function(){this.params.set(T.IDLE,c()),this.params.set(T.TURNLEFT,c()),this.params.set(T.TURNRIGHT,c()),this.params.set(T.BLOCKFRONT,c()),this.params.set(T.BLOCKBACK,c()),this.params.set(T.BLOCKLEFT,c()),this.params.set(T.BLOCKRIGHT,c()),this.params.set(T.BLOCKTURNLEFT,c()),this.params.set(T.BLOCKTURNRIGHT,c()),this.params.set(T.DEATH,c()),this.params.set(T.AIRDEATH,c()),this.params.set(T.ATTACK,c()),this.params.set(T.DIRECTION,r())},i.initStateMachine=function(){this.stateMachine.set(T.IDLE,new m(this)),this.stateMachine.set(T.TURNLEFT,new B(this)),this.stateMachine.set(T.TURNRIGHT,new E(this)),this.stateMachine.set(T.BLOCKFRONT,new R(this)),this.stateMachine.set(T.BLOCKBACK,new l(this)),this.stateMachine.set(T.BLOCKLEFT,new S(this)),this.stateMachine.set(T.BLOCKRIGHT,new g(this)),this.stateMachine.set(T.BLOCKTURNLEFT,new f(this)),this.stateMachine.set(T.BLOCKTURNRIGHT,new C(this)),this.stateMachine.set(T.AIRDEATH,new M(this)),this.stateMachine.set(T.DEATH,new p(this)),this.stateMachine.set(T.ATTACK,new L(this))},i.initAnimationEvent=function(){var t=this;this.animationComponent.on(n.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["block","turn","attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(h).state=o.IDLE)}))},i.run=function(){switch(this.currentState){case this.stateMachine.get(T.TURNLEFT):case this.stateMachine.get(T.TURNRIGHT):case this.stateMachine.get(T.BLOCKFRONT):case this.stateMachine.get(T.BLOCKBACK):case this.stateMachine.get(T.BLOCKLEFT):case this.stateMachine.get(T.BLOCKRIGHT):case this.stateMachine.get(T.BLOCKTURNLEFT):case this.stateMachine.get(T.BLOCKTURNRIGHT):case this.stateMachine.get(T.IDLE):case this.stateMachine.get(T.AIRDEATH):case this.stateMachine.get(T.DEATH):case this.stateMachine.get(T.ATTACK):this.params.get(T.ATTACK).value?this.currentState=this.stateMachine.get(T.ATTACK):this.params.get(T.DEATH).value?this.currentState=this.stateMachine.get(T.DEATH):this.params.get(T.AIRDEATH).value?this.currentState=this.stateMachine.get(T.AIRDEATH):this.params.get(T.BLOCKFRONT).value?this.currentState=this.stateMachine.get(T.BLOCKFRONT):this.params.get(T.BLOCKBACK).value?this.currentState=this.stateMachine.get(T.BLOCKBACK):this.params.get(T.BLOCKLEFT).value?this.currentState=this.stateMachine.get(T.BLOCKLEFT):this.params.get(T.BLOCKRIGHT).value?this.currentState=this.stateMachine.get(T.BLOCKRIGHT):this.params.get(T.BLOCKTURNLEFT).value?this.currentState=this.stateMachine.get(T.BLOCKTURNLEFT):this.params.get(T.BLOCKTURNRIGHT).value?this.currentState=this.stateMachine.get(T.BLOCKTURNRIGHT):this.params.get(T.TURNLEFT).value?this.currentState=this.stateMachine.get(T.TURNLEFT):this.params.get(T.TURNRIGHT).value?this.currentState=this.stateMachine.get(T.TURNRIGHT):this.params.get(T.IDLE).value?this.currentState=this.stateMachine.get(T.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(T.IDLE)}},s}(u))||A);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){var n,t,r,o,u,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy,o=e.resources,u=e.SpriteFrame},function(e){c=e.default}],execute:function(){r._RF.push({},"b5c20rAY5VFLbotuocUDRgG","ResourceManager",void 0);e("default",function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r.prototype.loadDir=function(e,n){return void 0===n&&(n=u),new Promise((function(t,r){o.loadDir(e,n,(function(e,n){e?r(e):t(n)}))}))},t(r,null,[{key:"Instance",get:function(){return e.GetInstance.call(this)}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EventManager.ts"],(function(t){var i,o,s,n,e,h,a,r;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,s=t._decorator,n=t.game,e=t.Component},function(t){h=t.EVENT_ENUM,a=t.SHAKE_TYPE_ENUM},function(t){r=t.default}],execute:function(){var d;o._RF.push({},"3d15eGzeb1Ey4wD8gH9x6ZN","ShakeManager",void 0);var l=s.ccclass;s.property,t("ShakeManager",l("ShakeManager")(d=function(t){function o(){for(var i,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).isShaking=!1,i.oldTime=0,i.oldPos={x:0,y:0},i.type=void 0,i}i(o,t);var s=o.prototype;return s.init=function(){r.Instance.on(h.SCREEN_SHAKE,this.onShake,this)},s.onDestroy=function(){r.Instance.off(h.SCREEN_SHAKE,this.onShake)},s.onShake=function(t){this.isShaking||(this.type=t,this.oldTime=n.totalTime,this.isShaking=!0,this.oldPos.x=this.node.position.x,this.oldPos.y=this.node.position.y)},s.stop=function(){this.isShaking=!1},s.update=function(){if(this.isShaking){var t=(n.totalTime-this.oldTime)/1e3,i=16*Math.sin(12*Math.PI*.2);this.type===a.TOP?this.node.setPosition(this.oldPos.x,this.oldPos.y+i):this.type===a.BOTTOM?this.node.setPosition(this.oldPos.x,this.oldPos.y-i):this.type===a.LEFT?this.node.setPosition(this.oldPos.x-i,this.oldPos.y):this.type===a.RIGHT&&this.node.setPosition(this.oldPos.x+i,this.oldPos.y),t>.2&&(this.isShaking=!1,this.node.setPosition(this.oldPos.x,this.oldPos.y))}},o}(e))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"d0cd9fsI1tGUZZbf8r8Kdwu","Singleton",void 0),n("default",function(){function n(){}return n.GetInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./SmokeStateMachine.ts"],(function(t){var n,e,o,r,i,a;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){o=t.cclegacy,r=t._decorator},function(t){i=t.EntityManager},function(t){a=t.SmokeStateMachine}],execute:function(){var c;o._RF.push({},"c2f9bvLNIxCfLz8bdW/fPIG","SmokeManager",void 0);var s=r.ccclass;r.property,t("SmokeManager",s("IronSkeletonManager")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.init=function(){var n=e((function*(n){console.log("IronSkeletonManager init"),this.fsm=this.addComponent(a),yield this.fsm.init(),t.prototype.init.call(this,n)}));return function(t){return n.apply(this,arguments)}}(),r.onDestroy=function(){t.prototype.onDestroy.call(this)},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./StateMachine.ts","./index.ts","./DeathSubStateMachine3.ts","./IdleSubStateMachine3.ts"],(function(t){var e,n,i,a,s,r,c,o,h,u,m,S,p;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){i=t.cclegacy,a=t._decorator,s=t.Animation},function(t){r=t.EntityManager},function(t){c=t.getInitParamsTrigger,o=t.getInitParamsNumber,h=t.StateMachine},function(t){u=t.PARAMS_NAME_ENUM,m=t.ENTITY_STATE_ENUM},function(t){S=t.default},function(t){p=t.default}],execute:function(){var M;i._RF.push({},"31c21MkZe1D9ZuUGjzxIqDz","SmokeStateMachine",void 0);var f=a.ccclass;a.property,t("SmokeStateMachine",f("IronSkeletonStateMachine")(M=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var t=n((function*(){this.animationComponent=this.addComponent(s),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(u.IDLE,c()),this.params.set(u.DEATH,c()),this.params.set(u.DIRECTION,o())},a.initStateMachine=function(){this.stateMachine.set(u.IDLE,new p(this)),this.stateMachine.set(u.DEATH,new S(this))},a.initAnimationEvent=function(){var t=this;this.animationComponent.on(s.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["idle"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(r).state=m.DEATH)}))},a.run=function(){switch(this.currentState){case this.stateMachine.get(u.IDLE):case this.stateMachine.get(u.DEATH):this.params.get(u.DEATH).value?this.currentState=this.stateMachine.get(u.DEATH):this.params.get(u.IDLE).value?this.currentState=this.stateMachine.get(u.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(u.IDLE)}},i}(h))||M);i._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesFourStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./State.ts","./index.ts","./SpikesSubStateMachine.ts"],(function(e){var t,n,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.default},function(e){i=e.SPIKES_COUNT_ENUM},function(e){a=e.default}],execute:function(){n._RF.push({},"07e612TWopDl6T+vDchjtZZ","SpikesFourStateMachine",void 0);var c="texture/spikes/spikesfour";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.ZERO,new s(t,c+"/zero")),n.stateMachine.set(i.ONE,new s(t,c+"/one")),n.stateMachine.set(i.TWO,new s(t,c+"/two")),n.stateMachine.set(i.THREE,new s(t,c+"/three")),n.stateMachine.set(i.FOUR,new s(t,c+"/four")),n.stateMachine.set(i.FIVE,new s(t,c+"/five")),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./DataManager.ts","./EventManager.ts","./index3.ts","./TileManager.ts","./SpikesStateMahine.ts"],(function(t){var n,o,i,e,s,a,c,u,r,h,f,p,_,l,y,E,T,d;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass,i=t.asyncToGenerator},function(t){e=t.cclegacy,s=t._decorator,a=t.Component,c=t.Sprite,u=t.UITransform},function(t){r=t.EVENT_ENUM,h=t.ENTITY_STATE_ENUM,f=t.PARAMS_NAME_ENUM,p=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){_=t.default},function(t){l=t.default},function(t){y=t.randomByLen},function(t){E=t.TILE_WIDTH,T=t.TILE_HEIGHT},function(t){d=t.SpikesStateMahine}],execute:function(){var M;e._RF.push({},"f135fUi3ZZHj4oE+KxJkmYX","SpikesManager",void 0);var S=s.ccclass;s.property,t("SpikesManager",S("SpikesManager")(M=function(t){function e(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).id=y(12),n.x=0,n.y=0,n.fsm=void 0,n._count=void 0,n._totalCount=void 0,n.type=void 0,n}n(e,t);var s=e.prototype;return s.init=function(){var t=i((function*(t){this.addComponent(c).sizeMode=c.SizeMode.CUSTOM,this.getComponent(u).setContentSize(4*E,4*T),this.fsm=this.addComponent(d),yield this.fsm.init(),this.x=t.x,this.y=t.y,this.type=t.type,console.log(this.type),this.totalCount=p[this.type],this.count=t.count,l.Instance.on(r.PLAYER_MOVE_END,this.onLoop,this)}));return function(n){return t.apply(this,arguments)}}(),s.update=function(){this.node.setPosition(this.x*E-1.5*E,-this.y*T+1.5*T)},s.onDestroy=function(){l.Instance.off(r.PLAYER_MOVE_END,this.onLoop)},s.onLoop=function(){this.count===this.totalCount?this.count=1:this.count++,this.onAttack()},s.backZero=function(){this.count=0},s.onAttack=function(){if(_.Instance.player){var t=_.Instance.player,n=t.x,o=t.y;this.x===n&&this.y===o&&this.count===this.totalCount&&l.Instance.emit(r.ATTACK_PLAYER,h.DEATH)}},o(e,[{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.fsm.setParams(f.SPIKES_CUR_COUNT,t)}},{key:"totalCount",get:function(){return this._totalCount},set:function(t){this._totalCount=t,this.fsm.setParams(f.SPIKES_TOTAL_COUNT,t)}}]),e}(a))||M);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesOneStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./State.ts","./index.ts","./SpikesSubStateMachine.ts"],(function(e){var t,n,i,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.default},function(e){s=e.SPIKES_COUNT_ENUM},function(e){a=e.default}],execute:function(){n._RF.push({},"75b08eiK0VNoaHDtf33bzWm","SpikesOneStateMachine",void 0);var c="texture/spikes/spikesone";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,c+"/zero")),n.stateMachine.set(s.ONE,new i(t,c+"/one")),n.stateMachine.set(s.TWO,new i(t,c+"/two")),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesStateMahine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachine.ts","./index.ts","./SpikesFourStateMachine.ts","./SpikesManager.ts","./SpikesOneStateMachine.ts","./SpikesThreeStateMachine.ts","./SpikesTwoStateMachine.ts"],(function(t){var e,i,n,a,s,S,c,h,r,o,u,E,_,p,P;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){S=t.getInitParamsNumber,c=t.StateMachine},function(t){h=t.PARAMS_NAME_ENUM,r=t.ENTITY_TYPE_ENUM,o=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){u=t.default},function(t){E=t.SpikesManager},function(t){_=t.default},function(t){p=t.default},function(t){P=t.default}],execute:function(){var M;n._RF.push({},"9df55+Qyl1ACr+os/eL4jzs","SpikesStateMahine",void 0);var f=a.ccclass;a.property,t("SpikesStateMahine",f("SpikesStateMahine")(M=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.init=function(){var t=i((function*(){this.animationComponent=this.addComponent(s),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(h.SPIKES_TOTAL_COUNT,S()),this.params.set(h.SPIKES_CUR_COUNT,S())},a.initStateMachine=function(){this.stateMachine.set(r.SPIKES_ONE,new _(this)),this.stateMachine.set(r.SPIKES_TWO,new P(this)),this.stateMachine.set(r.SPIKES_THREE,new p(this)),this.stateMachine.set(r.SPIKES_FOUR,new u(this))},a.initAnimationEvent=function(){var t=this;this.animationComponent.on(s.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name,i=t.getParams(h.SPIKES_TOTAL_COUNT);(i===o.SPIKES_ONE&&e.includes("spikesone/two")||i===o.SPIKES_ONE&&e.includes("spikestwo/three")||i===o.SPIKES_ONE&&e.includes("spikesthree/four")||i===o.SPIKES_ONE&&e.includes("spikesfive/five"))&&t.node.getComponent(E).backZero()}))},a.run=function(){var t=this.params.get(h.SPIKES_TOTAL_COUNT).value;switch(this.currentState){case this.stateMachine.get(r.SPIKES_ONE):case this.stateMachine.get(r.SPIKES_TWO):case this.stateMachine.get(r.SPIKES_THREE):case this.stateMachine.get(r.SPIKES_FOUR):t===o.SPIKES_ONE?this.currentState=this.stateMachine.get(r.SPIKES_ONE):t===o.SPIKES_TWO?this.currentState=this.stateMachine.get(r.SPIKES_TWO):t===o.SPIKES_THREE?this.currentState=this.stateMachine.get(r.SPIKES_THREE):t===o.SPIKES_FOUR?this.currentState=this.stateMachine.get(r.SPIKES_FOUR):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(r.SPIKES_ONE)}},n}(c))||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubStateMachine.ts","./index.ts"],(function(t){var e,n,i,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.SubStateMachine},function(t){u=t.PARAMS_NAME_ENUM,s=t.SPIKES_COUNT_MAP_NUMBER_ENUM}],execute:function(){n._RF.push({},"77234xe1ehN8KSv+R2+OPGI","SpikesSubStateMachine",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.run=function(){var t=this.fsm.getParams(u.SPIKES_CUR_COUNT);this.currentState=this.stateMachine.get(s[t])},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesThreeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./State.ts","./index.ts","./SpikesSubStateMachine.ts"],(function(e){var t,n,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.default},function(e){i=e.SPIKES_COUNT_ENUM},function(e){a=e.default}],execute:function(){n._RF.push({},"cfdaccogD5G66ZpJFg0Ug6L","SpikesThreeStateMachine",void 0);var c="texture/spikes/spikesthree";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.ZERO,new s(t,c+"/zero")),n.stateMachine.set(i.ONE,new s(t,c+"/one")),n.stateMachine.set(i.TWO,new s(t,c+"/two")),n.stateMachine.set(i.THREE,new s(t,c+"/three")),n.stateMachine.set(i.FOUR,new s(t,c+"/four")),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesTwoStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./State.ts","./index.ts","./SpikesSubStateMachine.ts"],(function(e){var t,n,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.default},function(e){i=e.SPIKES_COUNT_ENUM},function(e){a=e.default}],execute:function(){n._RF.push({},"df200zYAC5AEJC37fsQ5YMV","SpikesTwoStateMachine",void 0);var c="texture/spikes/spikestwo";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.ZERO,new s(t,c+"/zero")),n.stateMachine.set(i.ONE,new s(t,c+"/one")),n.stateMachine.set(i.TWO,new s(t,c+"/two")),n.stateMachine.set(i.THREE,new s(t,c+"/three")),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/StartManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./FadeManager.ts"],(function(t){var n,e,r,a,o,c,i,u,s;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){r=t.cclegacy,a=t._decorator,o=t.Node,c=t.Component,i=t.director},function(t){u=t.SCENE_ENUM},function(t){s=t.default}],execute:function(){var p;r._RF.push({},"63921h8fvZP+ppVqzb3h5ck","StartManager",void 0);var d=a.ccclass;a.property,t("StartManager",d("StartManager")(p=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var a=r.prototype;return a.onLoad=function(){s.Instance.fadeOut(1e3),this.node.once(o.EventType.TOUCH_END,this.handleStart,this)},a.handleStart=function(){var t=e((function*(){yield s.Instance.fadeIn(1e3),i.loadScene(u.Battle)}));return function(){return t.apply(this,arguments)}}(),r}(c))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/State.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./index3.ts"],(function(t){var i,n,a,e,o,s,r,p;return{setters:[function(t){i=t.asyncToGenerator,n=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,e=t.AnimationClip,o=t.animation,s=t.Sprite},function(t){r=t.default},function(t){p=t.sortSpriteFrame}],execute:function(){a._RF.push({},"0cf61GthzlJcL+zE4S5jycH","State",void 0);var h=t("ANIMATION_SPEED",1/8);t("default",function(){function t(t,i,n,a,o){void 0===n&&(n=e.WrapMode.Normal),void 0===a&&(a=h),void 0===o&&(o=[]),this.animationClip=void 0,this.fsm=t,this.path=i,this.wrapMode=n,this.speed=a,this.events=o,this.init()}var a=t.prototype;return a.init=function(){var t=i((function*(){var t=this,i=r.Instance.loadDir(this.path);this.fsm.waitingList.push(i);var a=yield i;this.animationClip=new e;var h=new o.ObjectTrack;h.path=(new o.TrackPath).toComponent(s).toProperty("spriteFrame");var l=p(a).map((function(i,n){return[t.speed*n,i]}));h.channel.curve.assignSorted(l),this.animationClip.addTrack(h),this.animationClip.name=this.path,this.animationClip.duration=l.length*this.speed,this.animationClip.wrapMode=this.wrapMode;for(var u,c=n(this.events);!(u=c()).done;){var m=u.value;this.animationClip.events=[].concat(this.animationClip.events,[m])}}));return function(){return t.apply(this,arguments)}}(),a.run=function(){var t;(null==(t=this.fsm.animationComponent)||null==(t=t.defaultClip)?void 0:t.name)!==this.animationClip.name&&(this.fsm.animationComponent.defaultClip=this.animationClip,this.fsm.animationComponent.play())},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(t){var e,r,a,n,i,s,u;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,a=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.Component},function(t){u=t.FSM_PARAM_TYPE_ENUM}],execute:function(){var c;n._RF.push({},"19a57CoxWFFJaRn7caZ66Uz","StateMachine",void 0);var o=i.ccclass;i.property,t("getInitParamsTrigger",(function(){return{type:u.TRIGGER,value:!1}})),t("getInitParamsNumber",(function(){return{type:u.NUMBER,value:0}})),t("StateMachine",o("StateMachine")(c=function(t){function n(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._currentState=null,e.params=new Map,e.stateMachine=new Map,e.animationComponent=void 0,e.waitingList=[],e}e(n,t);var i=n.prototype;return i.getParams=function(t){if(this.params.has(t))return this.params.get(t).value},i.setParams=function(t,e){this.params.has(t)&&(this.params.get(t).value=e,this.run(),this.resetTrigger())},i.resetTrigger=function(){for(var t,e=r(this.params);!(t=e()).done;){var a=t.value,n=(a[0],a[1]);n.type===u.TRIGGER&&(n.value=!1)}},a(n,[{key:"currentState",get:function(){return this._currentState},set:function(t){this._currentState=t,this._currentState.run()}}]),n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,c,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy,c=t._decorator,a=t.Component}],execute:function(){var u;r._RF.push({},"5525cx30HdPbaGEwPMY3yjn","SubStateMachine",void 0);var i=c.ccclass;c.property,t("SubStateMachine",i("SubStateMachine")(u=function(t){function r(e){var n;return(n=t.call(this)||this)._currentState=null,n.stateMachine=new Map,n.fsm=e,n}return e(r,t),n(r,[{key:"currentState",get:function(){return this._currentState},set:function(t){this._currentState=t,this._currentState.run()}}]),r}(a))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/TileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(t){var e,i,n,o,s,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.Sprite,s=t.UITransform,r=t.Component},function(t){a=t.TILE_TYPE_ENUM}],execute:function(){var p;i._RF.push({},"d3f6e2iHo1BG4xqd7A03Pj9","TileManager",void 0);var h=n.ccclass,L=(n.property,t("TILE_WIDTH",55)),l=t("TILE_HEIGHT",55);t("TileManneger",h("TileManneger")(p=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).type=void 0,e.moveable=void 0,e.turnable=void 0,e}return e(i,t),i.prototype.init=function(t,e,i,n){this.type=t,this.type===a.WALL_COLUMN||this.type===a.WALL_ROW||this.type===a.WALL_LEFT_BOTTOM||this.type===a.WALL_LEFT_TOP||this.type===a.WALL_RIGHT_BOTTOM||this.type===a.WALL_RIGHT_TOP?(this.moveable=!1,this.turnable=!1):this.type===a.CLIFF_CENTER||this.type===a.CLIFF_LEFT||this.type===a.CLIFF_RIGHT?(this.moveable=!1,this.turnable=!0):this.type===a.FLOOR&&(this.moveable=!0,this.turnable=!0),this.addComponent(o).spriteFrame=e,this.getComponent(s).setContentSize(L,l),this.node.setPosition(i*L,-n*l)},i}(r))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./ResourceManager.ts","./index3.ts","./TileManager.ts"],(function(n){var e,t,r,a,i,o,c,l,u,s;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator},function(n){r=n.cclegacy,a=n._decorator,i=n.Component},function(n){o=n.default},function(n){c=n.default},function(n){l=n.createUINode,u=n.randomByRange},function(n){s=n.TileManneger}],execute:function(){var f;r._RF.push({},"65e59/UPClKFLlPE0J2Swb3","TileMapManager",void 0);var p=a.ccclass;a.property,n("TileMapManneger",p("TileMapManneger")(f=function(n){function r(){return n.apply(this,arguments)||this}return e(r,n),r.prototype.init=function(){var n=t((function*(){var n=this,e=yield c.Instance.loadDir("texture/tile/tile"),t=o.Instance.MapInfo;o.Instance.tileInfo=[];for(var r=0;r<t.length;r++){var a=t[r];o.Instance.tileInfo[r]=[];for(var i=function*(){var t=a[f];if(null===t.src||null===t.type)return 1;var i=l(),c=t.src;1!==c&&5!==c&&9!==c||r%2!=0||f%2!=0||(c+=u(0,3));var p="tile ("+c+")",d=e.find((function(n){return n.name===p}))||e[0],g=i.addComponent(s),M=t.type;g.init(M,d,r,f),o.Instance.tileInfo[r][f]=g,i.setParent(n.node)},f=0;f<a.length;f++)yield*i()}}));return function(){return n.apply(this,arguments)}}(),r}(i))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/TurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,u,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){u=t.default},function(t){a=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"17eb47dWdJPA75HVaXsbDUq","TurnLeftSubStateMachine",void 0);var c="texture/player/turnleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new u(e,c+"/top")),n.stateMachine.set(a.BOTTOM,new u(e,c+"/bottom")),n.stateMachine.set(a.LEFT,new u(e,c+"/left")),n.stateMachine.set(a.RIGHT,new u(e,c+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DirectionSubStateMachine.ts","./State.ts","./index.ts"],(function(t){var e,n,i,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.default},function(t){a=t.default},function(t){u=t.DIRECTION_ENUM}],execute:function(){n._RF.push({},"a8bf4AYdbVIiZ3w+YgaLp/j","TurnRightSubStateMachine",void 0);var c="texture/player/turnright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(u.TOP,new a(e,c+"/top")),n.stateMachine.set(u.BOTTOM,new a(e,c+"/bottom")),n.stateMachine.set(u.LEFT,new a(e,c+"/left")),n.stateMachine.set(u.RIGHT,new a(e,c+"/right")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts","./index.ts","./DataManager.ts","./EventManager.ts","./WoodenSkeletonStateMachine.ts"],(function(t){var n,e,o,a,i,s,r,c,l,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){o=t.cclegacy,a=t._decorator},function(t){i=t.EnemyManager},function(t){s=t.EVENT_ENUM,r=t.ENTITY_STATE_ENUM},function(t){c=t.default},function(t){l=t.default},function(t){u=t.WoodenSkeletonMachine}],execute:function(){var h;o._RF.push({},"7fa88tjIgxIaYZN9m37m3HZ","WoodenSkeletonManager",void 0);var f=a.ccclass;a.property,t("WoodenSkeletonManager",f("WoodenSkeletonManager")(h=function(t){function o(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).targetX=0,n.targetY=0,n}n(o,t);var a=o.prototype;return a.init=function(){var n=e((function*(n){this.fsm=this.addComponent(u),yield this.fsm.init(),t.prototype.init.call(this,n),l.Instance.on(s.PLAYER_MOVE_END,this.onAttack,this),this.onChangeDirection(!0)}));return function(t){return n.apply(this,arguments)}}(),a.onDestroy=function(){t.prototype.onDestroy.call(this),l.Instance.off(s.PLAYER_MOVE_END,this.onAttack)},a.onAttack=function(){if(this.state!==r.DEATH&&c.Instance.player){var t=c.Instance.player,n=t.x,e=t.y,o=t.state;(this.x===n&&Math.abs(this.y-e)<=1||this.y===e&&Math.abs(this.x-n)<=1)&&o!==r.DEATH&&o!==r.AIRDEATH?(this.state=r.ATTACK,console.log(r.DEATH),l.Instance.emit(s.ATTACK_PLAYER,r.DEATH)):this.state=r.IDLE}},o}(i))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./StateMachine.ts","./index.ts","./AttackSubStateMachine2.ts","./DeathSubStateMachine4.ts","./IdleSubStateMachine5.ts"],(function(t){var e,n,i,a,s,c,o,r,h,u,l,m,M,S;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){i=t.cclegacy,a=t._decorator,s=t.Animation},function(t){c=t.EntityManager},function(t){o=t.getInitParamsTrigger,r=t.getInitParamsNumber,h=t.StateMachine},function(t){u=t.PARAMS_NAME_ENUM,l=t.ENTITY_STATE_ENUM},function(t){m=t.default},function(t){M=t.default},function(t){S=t.default}],execute:function(){var f;i._RF.push({},"5c702BkIfNLsJIHR9ISW8m/","WoodenSkeletonStateMachine",void 0);var p=a.ccclass;a.property,t("WoodenSkeletonMachine",p("WoodenSkeletonMachine")(f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var t=n((function*(){this.animationComponent=this.addComponent(s),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(u.IDLE,o()),this.params.set(u.ATTACK,o()),this.params.set(u.DEATH,o()),this.params.set(u.DIRECTION,r())},a.initStateMachine=function(){this.stateMachine.set(u.IDLE,new S(this)),this.stateMachine.set(u.ATTACK,new m(this)),this.stateMachine.set(u.DEATH,new M(this))},a.initAnimationEvent=function(){var t=this;this.animationComponent.on(s.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;console.log(e);["attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(c).state=l.IDLE)}))},a.run=function(){switch(this.currentState){case this.stateMachine.get(u.IDLE):case this.stateMachine.get(u.ATTACK):case this.stateMachine.get(u.DEATH):this.params.get(u.DEATH).value?this.currentState=this.stateMachine.get(u.DEATH):this.params.get(u.ATTACK).value?this.currentState=this.stateMachine.get(u.ATTACK):this.params.get(u.IDLE).value?this.currentState=this.stateMachine.get(u.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(u.IDLE)}},i}(h))||f);i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=index.js.map